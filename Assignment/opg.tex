\documentclass{article}
\usepackage{amsmath} % for advanced math typesetting
\usepackage{amssymb} % for additional math symbols
\usepackage{amsthm} % for theorem environments
\usepackage{mathtools} % for advanced math typesetting
\usepackage{makeidx} % package for creating an index
\usepackage{quiver}
% draw commutative diagrams
\usepackage{tikz-cd}
% \usepackage{charter} % use Helvetica font
% \renewcommand{\familydefault}{\sfdefault} % set Helvetica as the default font

\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\nullity}{nullity}
\DeclareMathOperator{\coeff}{coeff}


\newcommand{\Span}{\operatorname{span}}

\newcommand*{\argordot}[1]{%
    \def\arg{#1}%
    \ifx\arg\empty
        \,\cdot\,%
    \else
        #1%
    \fi%
}
\DeclarePairedDelimiterX{\abs}[1]{\mid}{\mid}{\argordot{#1}}

% Define theorem environment
\newtheorem{theorem}{Theorem}[section]

% Define definition environment
\newtheorem{definition}{Definition}[section]

% Define corollary environment
\newtheorem{corollary}{Corollary}[section]

% Define proposition environment
\newtheorem{proposition}{Proposition}[section]

% Define lemma environment
\newtheorem{lemma}{Lemma}[section]

% Define example environment
\newtheorem{example}{Example}[section]

% Define remark environment
\newtheorem{remark}{Remark}[section]


% Define aliases for \mathfrak and \mathcal and mathbb
\newcommand{\mfrak}[1]{\mathfrak{#1}}
\newcommand{\mcal}[1]{\mathcal{#1}}
\newcommand{\mbb}[1]{\mathbb{#1}}
% commands for the trace, Tr and norm, N
\newcommand{\tr}[1]{\text{Tr}(#1)}
\newcommand{\norm}[1]{\text{N}(#1)} 
\makeindex


\begin{document}

% TODO: Write an introduction, saying that there has been developed mathematics that does not require a complex root as we do. There are even results giving an upper bound on the number of solutions to the thue equation. We will not do that here - we will just show that under certain circumstances, there are only finitely many solutions.So the result is not as strong, but the proof is more elegant. It does not require much analysis at all. 

\tableofcontents



Let $K$ we a number field of degree $n$ over the rationals.

% Quickly build up to a point where the problem can be phrased. Then explain what theory is need and maybe motivate it.





\section{Introduction to the problem}

\section{Dual basis}
Let $\omega_1, ..., \omega_n$ be a basis for $K$ over $k$ and choose $n$ elements, $c_1, ..., c_n$, in $k$. We know that the $n \times n$ matrix, $\tr {\omega_i \omega_j}$, is non-singular since $$0 \neq \text{disc}(\omega_1, ..., \omega_n) = |\tr{\omega_i \omega_j}|^2$$
This means that there is a unique solution, $x_1, ..., x_n \in k$, to the $n$ equations
$$\sum_{j=1}^n \tr{\omega_i \omega_j} x_j = \frac{c_i}{n} \quad (i = 1, ..., n)$$
Let $\alpha = \sum_{j=1}^n x_j \omega_j$. Using rules of the trace, we get for any $i$ that
$$c_i = \sum_{j=1}^n \tr{x_j \omega_i \omega_j} = \tr{\sum_{j=1}^n x_j \omega_i \omega_j} = \tr{\alpha \omega_i}$$
Thus, we have demonstrated that for any choice of $c_1, ..., c_n \in k$, there is a unique $\alpha \in K$ such that $\tr{\alpha \omega_i} = c_i$. Now choose $c_{ij} = \delta_{ij}$, where $\delta_{ij}$ is the Kronecker delta. For every $i = 1, ..., n$ we get a unique $\omega_i^* \in K$ such that $\tr{\omega_i^* \omega_j} = c_{ij}$ for $j = 1, ..., n$. We call $\omega_1^*, ..., \omega_n^*$ the dual basis of $\omega_1, ..., \omega_n$. It is indeed a basis. Assume that 
$$\sum_{i=1}^n x_i \omega_i^* = 0.$$
Multiplying by $\omega_j$ and taking the trace, we get
$$0 = \tr{\sum_{i=1}^n x_i \omega_i^* \omega_j} = \sum_{i=1}^n x_i \tr{\omega_i^* \omega_j} = x_j,$$
which shows that all the $x_j$'s are zero. Thus, the $\omega_i^*$'s are linearly independent and as there are $n$ of them, they form a basis.




\section{Formal power series}
Let $K$ be a field. By $K[[x]]$ we denote the set of all expressions of the form $\sum_{i = 0}^\infty a_ix^i$, where the $a_i$ belong to $K$ is a commutative ring with addition defined in the the obvious way and multiplication defined as 
$$\bigl( \sum_{i = 0}^\infty a_ix^i \bigr) \bigl(\sum_{i = 0}^\infty b_ix^i\bigr) = \sum_{i = 0}^{\infty}\bigl( \sum_{j = 0}^i a_j b_{i-j} \bigr) x^i$$
Thus, multiplication is really just the process of expanding out brackets and collecting all like terms. Let us see what happens to the coefficients when multiplying many elements from $K[[x]]$. For elements $f \in K[[x]]$ we introduce the notation $[x^i]f$ to denote the $i$th coefficient of $f$. Suppose that we have a sequence $f_1, f_2, ... \in K[[x]]$ with each $f_i$ having the form 
$$f_i = \sum_{j=0}^\infty a_{ij}x^j$$
Define $P_{k,n} = \{ a_{1h_1} ... a_{nh_n} | h \in \mbb N_0^n,|h| = k \}$, where we by $|h|$ mean the sum of the entries of $h \in \mbb N^n_0$ and let $P_k = \bigcup_{n \in \mbb N_0} P_{k,n}$. Let $g_n = \prod_{i=1}^{n}f_i$. We claim that $[x_k]g_n = \sum_{c \in P_{k,n}} c$; when expanding out the brackets in the product $\prod_{i=1}^{n}f_i$ one ends up with a bunch of terms of degree $k$ and each such term corresponds exactly to an element in $P_{k,n}$. The process of collecting all of these terms is then just the number $[x_k]g_n$. Suppose that $f(x) = \sum_{i=0}^{\infty}$ and let us now consider the simpler case where each $f_i = f$. If $a_0 \neq 0$ then $P_0$ contains infinitely many non-zero elements since $a_0^n$ is non-zero for all $n$, as $a_0$ is a unit, and $a_0^n \in P_{0,n}$. If on the other hand $a_0 = 0$ then $P_{k,n} = \emptyset$ for all $n > k$. As each $P_{k,n}$ is finite it therefore follows that $P_k$ is finite for all $k \in \mbb N_0$, and so we conclude that $P_k$ contains only finitely many non-zero elements. This shows that if $f \in (x)$ and $g \in K[[x]]$ where $g(x) = \sum_{i = 0}^\infty a_i x^i$ we can define 
$$g(f(x)) = \sum_{i = 0}^\infty a_i f(x)^i$$
One way to think about this is that $g$ induces a function $g : (x) \to K[[x]]$. Composition also makes sense if $g$ is just a polynomial. In this case we can allow $f \in K[[x]]$. Observe that we can define the following elements in $K[[x]]$
\begin{align*}
    \exp(x) &= \sum_{n = 0}^\infty \frac{x^n}{n!} \\
    \log (1 + x) &= \sum_{n = 1}^\infty (-1)^{n-1}\frac{x^n}{n}
\end{align*}
These are of course just the usual power series for the logarithm and the exponential function. Defining $F(x) = \log(1 + x)$ we have two induced functions $\exp : (x) \to K[[x]]$ and $F : (x) \to K[[x]]$. It is clear that $\exp (x) - 1 \in (x)$ and that $F(\exp (x) - 1) = \log (\exp (x)) = x$. Similarly $\exp(\log(1+x)) = 1+x$.




(TALK ABOUT HOW THESE DEFINITION RELATE TO P-ADIC DEFINTIONS)
(TODO)
Next, see that exp f(u) = exp f(u), where f(u) is a p adic number, exp on the left hand side is the p adic exponential and exp on the right is the formal power series exponential function 



The ring $K[[x]]$ is in fact a PID and a local ring, with maximal ideal $(x)$. One might therefore wonder if this ring is the valuation ring of some valued field. It turns out that it is. 

This ring has no zero divisors, so we can consider its fraction field, which we will denote by $K((x))$. (THIS FIELD OCCURS AS THE COMPLETION OF K[[x]]) We now have a field extension $K((x)) / K$, and hence we can think about which elements are algebraic over $K$. We have the following theorem


\begin{proposition}
    The completion of the rational functions $K(x)$ with respect to the valuation $v_\mfrak{p}$, where $\mfrak p = (x)$, is isomorphic to $K((x))$.  
\end{proposition}

\begin{theorem}
    If $f \in K((x))$ is not a constant, then it is transcendental over $K$.  
\end{theorem}

\begin{proof}
    


    Consider first the special case where $f \in K[[x]]$. Suppose also that we have a non-zero polynomial $g \in K[x]$ of degree $n$
    $$g(x) = \sum_{i = 0}^n c_i x^i \in K[x]$$
    It is clear that if $f$ has finite degree then the only way for $g(f(x))$ to be 0 is if $f \in K$. So suppose that $f$ has infinite degree. Note that
    $$g(f(x)) = \sum_{i = 0}^n c_i f(x)^i$$
    We want to show that if $g(f(x)) = 0$ then all the $c_i$ are 0. In other words, $g(x) = 0$. Hence, if we can show that the powers $1, f, ..., f^{n}$ are linearly independent over $K$, we are done with this special case. So assume that 
    $$c_0  + ... + c_n f(x)^n = 0$$
    Evaluating at $x = 0$ shows that $c_0 = 0$. Suppose $a_i x^i$ is the term of $f$ with lowest degree, the existence of which is due to the fact that $f$ has infinite degree. Differentiating $f$ exactly $i$ times gives us a polynomial $f^{(i)}$ with non-zero constant term - in other words, $f^{(i)}$ is a unit. Differentiating our original equation $i$ times gives us 
    $$c_1 f^{(i)}(x) + ... + c_n (f(x)^{n-1})^{(i)} = 0$$
    Multiplying this equation by $\frac{1}{f^{(i)}(x)}$ leaves us in a situation similar to the one we started with. Now we can evaluate in $x = 0$ and we get that $c_1 = 0$. Repeating this argument we get that all the $c_i$ are 0. Now if $f \in K((x))$ we can write 
\end{proof}








\section{Forms and Modules}
% forms
A form $F(x_1, ..., x_m)$ in $m$ variables of degree $k$ is a homogenous polynomial of degree $k$ with coefficients in $\mbb{Q}$. If it splits into linear factors in some extension of $\mbb{Q}$, then it is called decomposable. The forms in 2 variables are actually always decomposable. 

\begin{theorem}\label{thm: Forms in two variables are decomposable}
    Let $F(x, y)$ be a form of degree $k$ in two variables and let $\alpha$ be any root of $F(x, 1)$. Then 
    $$F(x, y) = N_{\mbb Q (\alpha) / \mbb Q}(x + \alpha y)$$ 
    In particular, $F$ is decomposable.
\end{theorem}


\begin{proof}
    We can assume without loss of generality that $F(x, 1)$ is monic. Start by writing
    $$F(x, y) = \sum_{i=0}^k a_i x^{k-i} y^i$$
    where the $a_i$ are in $\mbb{Q}$. Since $F(x, 1)$ is monic we have $a_k = 1$. Now 
    $$F(x, 1) = \sum_{i=0}^k a_i x^{k-i}$$
    Which can be written as
    $$\prod_{i=1}^k (x - \alpha_i)$$
    in the splitting field for $F(x,1)$. The coefficients are symmetric functions of the roots, which we denote by $s_1(\alpha_1, ..., \alpha_k), ..., s_k(\alpha_1, ..., \alpha_k)$. Notice that $s_i(\alpha_1, ..., \alpha_k)$ is a monomial of degree $i$ in the variables $\alpha_i$. Hence $s_i(\alpha_1y, ..., \alpha_k y) = y^i s_i(\alpha_1, ..., \alpha_k)$ become the coefficients of 
    $$\prod_{i=1}^k (x - \alpha_iy)$$
    But these are exactly the coefficients of $F(x,y)$, when regarded as a polynomial in $x$ with coefficients in $\mbb{Q}[y]$. Thus, the above expression is in fact equal to $F(x,y)$ and is a factorization of it in terms of linear factors and hence it decomposable.
\end{proof}




It is called reducible if it can be written as the product of two forms of lower degree. Otherwise it is called irreducible. Two forms are called equivalent if one can be obtained from the other by a linear change of variables with coefficients in $\mbb{Q}$. This defines an equivalence relation on the set of forms. Consider the equation 
$$F(x_1, ..., x_m) = a$$
where $a$ is in $\mbb{Q}$. 

Once we know the solutions to one form, we can transform them into solutions of an equivalent form. Thus, we \
% An obvious but important property of equivalent forms is that if $F$ and $G$ are equivalent, then if we have a solution to $F(x_1, ..., x_m) = a$, then we can transform it into a solution $G(y_1, ..., y_m) = a$ and vice versa.

% write a defintion 
% \begin{definition}
Let $\mu_1, ..., \mu_k$ be elements in $K$. The set, $M$, consisting of all $\mbb{Z}$-linear combinations of these is called a module in $K$ and the $\mu_i$'s are called the generators of the module. If $M$ contains a basis for the vector space $K / \mbb{Q}$, then it is called a \textbf{full module}. Otherwise it is called a \textbf{nonfull module}. By definition $M$ is a finitely generated abelian group and by the structure theorem, $M$ determines uniquely integers $r,s \geq 0$ and $d_1 \mid ... \mid d_s$, $d_i \geq 2$ such that
$$M \cong \mbb{Z}^r \oplus \mbb{Z}/d_1\mbb{Z} \oplus ... \oplus \mbb{Z}/d_s\mbb{Z} $$
But $M$ lives inside a field, which has no zero divisors, so $M$ must be a torsion-free $\mbb{Z}$-module, and so $s = 0$. Thus, $M \cong \mbb{Z}^r$, which means that $M$ is a free abelian group of rank $r$. The modules in $K$ can therefore be thought of as the finitely generated free abelian groups inside $K$ - This means that concepts such as rank and basis now make sense for modules. 
% If $N$ is a subgroup of $M$, then $N$ is a free abelian group of rank $r' \leq r$, meaning that $N$ is also a module of $K$ of rank $r'$.
In general, if we have a basis for $N$, say $\mu_1, ..., \mu_m$ and we choose to consider $\mbb Q$-linear combinations of these, say 
\begin{equation} \label{eq:LinearCombination}
    a_1 \mu_1 + ... + a_m \mu_m = 0 
\end{equation}
Then we can always find an integer $c \neq 0$ so that $c a_i$ is an integer for all $i$. For example we can choose $c$ to be th product of all denominators of the $a_i$, all of which are non-zero. So if $m > n$ then we would be able to choose at least one of the $a_i$ to be non-zero. But that would mean that multiplying (\ref{eq:LinearCombination}) by a suitable $c$ would yield a non-trivial $\mbb Z$-linear combination, which is a contradiction. Hence the rank of a module has to be smaller than or equal to $n$. If we have $m = n$, then $N$ is a full module, because multiplication by $c \neq 0$ in (\ref{eq:LinearCombination}) will give a $\mbb Z$-linear combination of the $\mu_i$'s which is zero, which implies that the $ca_i$'s are all zero, which forces the $a_i$ to be zero. On the other hand, if $N$ is a full module, then it has rank $n$ since a basis for $K$ over $\mbb Q$ is in particular also linearly independent over $\mbb Z$. But then the $\mu_i$ must be a basis for $N$, so it has rank $n$. Thus the full modules are exactly the modules of rank $n$, and the nonfull modules are those of rank less than $n$.

Once we have a module, we can of course consider the norm of the elements in it. Let $\sigma_1, ..., \sigma_n$ be the $n$ embeddings of $K$ into $\mbb{C}$. We then have
$$N(x_1 \mu_1 + ... + x_k \mu_k) = \prod_{i = 1}^n \sigma_i(x_1 \mu_1 + ... + x_k \mu_k) = \prod_{i = 1}^n x_1 \sigma_i(\mu_1) + ... + x_k \sigma_i(\mu_k)$$



Any term in this product occurs from choosing one of the $k$ terms in each of the $n$ factors, so multiplying this expression out, we get a homogenous polynomial in the variables $x_1, ..., x_n$. Let us think about what the coefficients of this polynomial are. Any term will have the form
$$x_{i_1}\sigma_1(\mu_{i_1}) \dots x_{i_n}\sigma_n(\mu_{i_n}) = x_{i_1} ... x_{i_n} \sigma_1(\mu_{i_1})... \sigma_n(\mu_{i_n})$$
where the $i_j$ signify which of the $k$ terms in the $n$ factors we chose. There could be many choices that lead to the same monomial, $x_{i_1}...x_{i_n}$. As such, the coefficient of this monomial will be
$$\sum_{i} \sigma_1(\mu_{i_1})... \sigma_n(\mu_{i_n})$$
where each $i$ in the sum corresponds to a unique way of choosing the $k$ terms in the $n$ factors. Acting with an embedding on the set of all embeddings will simply permute them. Thus, acting with an embedding on the above sum will just permute the order in which the terms are added. Thus, the sum is fixed by all embeddings. But this means that all coefficients are fixed by every single embedding, which means that the coefficients are in $\mbb{Q}$. Hence, $$F(x_1, ..., x_k) = N(x_1 \mu_1 + ... + x_k \mu_k)$$ 
is a form, and we call it the form associated to the generators $\mu_1, ..., \mu_k$, of the module. Since there may be many generators that lead to the same module, the forms achieved in this way may not be equal. However, it turns out that they are equivalent. If $\nu_1, ...,\nu_s$ is another set of generators for the same module, then we can write each $\nu_i$ as a $\mbb{Z}$-linear combination of the $\mu_i$'s, i.e. for $j = 1, ..., s$, we have
$\nu_j = \sum_{i=1}^k a_{ij} \mu_i$. Set for each $j = 1, ..., k$ 
$$x_j = \sum_{i=1}^s a_{ji} y_i$$
We see that
$$\sum_{i=1}^s y_i \nu_i = \sum_{i=1}^s y_i \sum_{j=1}^k a_{ji} \mu_j = \sum_{j=1}^k (\sum_{i=1}^s a_{ji} y_i) \mu_j = \sum_{j=1}^k x_j \mu_j$$
Which means that the forms associated to the generators $\mu_1, ..., \mu_k$ and $\nu_1, ..., \nu_s$ are equivalent. 

We have seen that it is possible to construct forms from modules. The other direction is also possible. We have the theorem

\begin{theorem}
\end{theorem}

Because of this correspondence between forms and norms of elements, we will now spend some more time investigating norms. 

\section{Coefficient rings and orders}
An \textbf{order} in $K$ is a full module in $K$ which is also a ring with unity. We will now give a way of constructing such a ring. Given a full module $M$ in $K$, we can consider an element $\alpha$ in $K$ so that $\alpha M \subseteq M$. Such an element is called a \textbf{coefficient} of $M$, and the set of all of these is called the \textbf{coefficient ring} of $M$, which we will denote by $\mfrak D_M$, or simply $\mfrak D$, when it is clear from the context what is meant. It would be strange to call this object a ring, if it wasn't a ring, so let us check that it is. We check that $\mfrak D$ is a subring of $K$. First it is clear that $1 \in \mfrak{D}$ since $1 M \subseteq M$ and so $\mfrak{D}$ is non-empty. Let now $\alpha, \beta$ in $\mfrak D$ and take any element in $x$ in $M$. We have $$(\alpha - \beta)x = \alpha x - \beta x \in M$$
Thus, $\alpha - \beta \in \mfrak{D}$. Checking that we have closure under multiplication is similar and so by the subring criterion $\mfrak{D}$ is a subring of $K$, In fact, $\mfrak{D}$ is also a full module. If $\gamma$ is any non-zero element of $M$, then $\gamma \mfrak{D}$ is a group under addition and we have that $\gamma \mfrak{D} \subseteq M$. Thus, $\gamma \mfrak D$ is a module since subgroups of modules are modules. But then also $\mfrak{D} = \gamma^{-1} \gamma \mfrak{D}$ is a module. Before we show that $\mfrak D$ is full, we need the following small intermediate result.

\begin{lemma}\label{lem:SufficientConditionForCoefficient}
    Let $M$ be a full module with basis $\mu_1, ..., \mu_n$. Then $\alpha \mu_i$ is in $M$ for all $i$ if and only if $\alpha$ is in $\mfrak D$.
\end{lemma}
\begin{proof}
    Take any $x \in M$ and write $x = \sum_{i=1}^n a_i \mu_i$ where the $a_i$ are integers. Multiplying by $\alpha$ we get
    $$\alpha x = \sum_{i=1}^n a_i (\alpha \mu_i)$$
    So if the $\alpha \mu_i$ are all in $M$, this is just a finite sum of elements in $M$, meaning that the entire sum is in $M$. Hence, $\alpha M \subseteq M$. The other direction is clear. 
\end{proof}

%Using this result we can now move on to show that $\mfrak D$ is a full module. 
This allows us to prove the following lemma 

\begin{lemma} \label{lem:ElementsCanBeScaledToBeInCoefficientRing}
    Suppose $M$ is a full module of $K$ and suppose $\alpha \in K$. Then there exists an integer $c \neq 0$ so that $c \alpha$ is in the coefficient ring of $M$.
\end{lemma}

\begin{proof}
    
Since $M$ is full we can assume that $\mu_1, ..., \mu_n$ is not only a basis for $M$ but also a basis for $K$ over $\mbb Q$. Then for each $\mu_i$ we can find a $\mbb Q$ linear combination
$$\alpha \mu_i = \sum_{j=1}^n a_{ij} \mu_j$$
Choose now an integer, $c \neq 0$ so that $c a_{ij}$ is an integer for all $i,j$. This implies that $c \alpha \mu_i$ is in $M$ for all $i$. By (\ref{lem:SufficientConditionForCoefficient}), we now have $c \alpha$ is in $\mfrak D$. 
\end{proof}

\begin{lemma}\label{lem:ModuleCanBeScaledToFitInsideCoefficientRing}
    If $M$ is a full module then there exists a non-zero integer $b$ so that $bM \subseteq \mfrak D$.
    \end{lemma}
    \begin{proof}
    By (\ref{lem:ElementsCanBeScaledToBeInCoefficientRing}) we can find a non-zero integer $c_i$ for every $\mu_i$ so that $c_i \mu_i$ is in $\mfrak D$. We can then take $b$ to be the product of all the $c_i$'s. This will be a non-zero integer, satisfying that $b \mu_i$ is in $\mfrak D$ for all $i$. It now follows from (\ref{lem:SufficientConditionForCoefficient}) that $bx$ is in $\mfrak D$ for all $x \in M$, meaning that 
    that $b M \subseteq \mfrak D$.
\end{proof}


This means that we can find non-zero integer $b$, so that $b \mu_1, ..., b \mu_n$ are all in $\mfrak D$. This is clearly still a basis for $K$ over $\mbb Q$, which means that $\mfrak D$ is full, and so $\mfrak D$ is an order in $K$.



\section{Solutions to $N(\mu) = a$, where $\mu$ is in a full module}


Let $\mfrak{D}$ be the coefficient ring of a full module $M$ and assume that 
$$N(\mu) = a,$$
for some $\mu$ in $M$. We have that $\epsilon \mu$ is in $M$ if and only if  $\epsilon$ is in $\mfrak{D}$. So take now $\epsilon \mu \in M$ with $\epsilon \in \mfrak{D}$. We get
$$N(\epsilon \mu) = N(\epsilon)N(\mu) = a N(\epsilon)$$
This means that a single solution to 
So if $\epsilon$ has norm 1, also $\epsilon \mu$ will be a solution. The units of $\mfrak{D}$ are the elements with norm $\pm 1$. 

Maybe all we really need to show is what all of these solutions are like. Maybe we do not need all the other parts. 




\section{Only finite many solutions up to associates}
% Let $K / k$ be a finite extension of fields. For any $k$-linear map, $f$, from $K$ to itself the characteristic polynomial of the map is defined to be
% $$\chi(\lambda) = \det (A - \lambda I)$$ 
% where $I$ is an identity matrix of suitable size and $A$ is the matrix representation of $f$ with respect to a basis for $K$ over $k$. This is well-defined, i.e it does not depend on the choice of basis and $\chi(\lambda)$ is in fact a polynomial in $\lambda$  with coefficients in $k$ - It is even monic and by the Cayley-Hamilton theorem, $\chi(f) = 0$. Noq if $\alpha$ is in $K$, we can regard multiplication by $\alpha$ as a $k$-linear map $\phi_\alpha(x) = \alpha x$ from $K$ to itself. We then have that $\chi_\alpha(\alpha) = \chi_\alpha(\phi_\alpha) = 0$. This means that $\alpha$ is a root of its characteristic polynomial.

% Choosing an arbitrary basis for $K$ over $k$, we can represent this map by a matrix, $A$, with respect to this basis. The characteristic polynomial of $A$ is then defined to be $\chi_A(x) = \det(xI - A)$, where $I$ is the identity matrix of suitable size. 

Suppose we have a finite extension of fields, $K / k$. Multiplication by an element, $\alpha$, in $K$ can be regarded as a $k$-linear map, $\phi_\alpha(x) = \alpha x$, from $K$ to itself, and we have that $\phi_\alpha^k(x)$ = $\alpha^k x$, for $k \in \mbb N$. Hence, $\phi_\alpha^k(1) = \alpha^k$. The characteristic polynomial, $\chi_{\phi_\alpha}$, of $\phi_\alpha$ is then a monic polynomial with coefficients in $k$ and we have $\chi_{\phi_\alpha}(\phi_\alpha) = 0$. In words, this means that $\chi_{\phi_\alpha}(\phi_\alpha)$ is the zero map. Hence evaluating it in 1 gives a polynomial expression in $\alpha$ with coefficients in $k$ which equals 0. This means that $\alpha$ is a root of $\chi_{\phi_\alpha}$. We will therefore call the polynomial $\chi_{\phi_\alpha}$ the characteristic polynomial of $\alpha$ relative to the extension $K / k$.

If now $K$ is instead a number field with degree $n$ over $\mbb{Q}$. If $\alpha$ now is an element in an order $\mfrak D \subseteq K$, and $\mu_1,  ..., \mu_n$ is a basis for $\mfrak D$ then we can write each $\alpha \mu_i \in \mfrak D$ as a linear combination with coefficients in $\mbb Z$, which means that the matrix representation of $x \mapsto \alpha x$ has integer entries, so the characteristic polynomial of $\alpha$ has integer coefficients. But as we saw above, $\alpha$ is a root of this polynomial, which is monic. Hence $\alpha$ is an algebraic integer and therefore $\mfrak D$ is a subring of the ring of algebraic integers, $\mcal O$. We therefore already know some things about $\mfrak D$. All its units are characterized by having norm $\pm 1$, the norm and trace of an element in $\mfrak D$ are integers, and if $\alpha \in \mfrak{D}$ then $\alpha$ divides $N(\alpha)$ in $\mfrak D$. But perhaps more interestingly, Dirichlet's unit theorem generalizes to orders, such as $\mfrak D$. We have the following result.
\begin{theorem}[Dirichlet's unit theorem]
    Let $\mfrak D$ be an order in some number field $K$ of degree $n$ and let $r$ and $2s$ be the number of real and complex embeddings into $\mbb C$, respectively. Then $$\mfrak D^* = W \oplus V$$
    where $W$ is a finite cyclic group consisting of all roots of unity of $\mfrak D$ and $V$ is a free abelian group of rank $t = r + s - 1$.
\end{theorem}
\begin{proof}
    THIS ARGUMENT IS PROBABLY TOO LONG. IT COULD BE REDUCED.
    Let $\mcal O$ be the ring of algebraic integers in $K$. For the order $\mcal O$ we know that the above theorem holds, so we get
    $$\mcal O^* = W \oplus V$$
    with $W$ and $V$ as above. Since $\mfrak D$ is a subring of $\mcal O$ we also have $\mfrak D^* \subseteq \mcal O^*$. Hence, $$\mfrak D^* = W' \oplus V'$$ 
    where $W' \trianglelefteq W$ is finite cyclic and $V' \trianglelefteq V$ is free abelian of rank $t' \leq t$. We wish to show two things; That $W'$ does indeed consist of all roots of unity of $\mfrak D$ and that $t' = t$. For the first claim, if we have any root of unity $\xi \in \mfrak{D}$, then $\xi$ has finite order so it cannot possibly belong to $V'$. Thus the only possibility is that $\xi$ is in $W'$. For the second claim, consider the quotient of groups $\mcal O / \mfrak D$. Both of these have rank $n$, so this quotient is finite, and so we know that $f = [\mcal O : \mfrak D]$ is a natural number. Thus, if $x \in \mcal O$ then $\overline {fx} = 0$ in $\mcal O / \mfrak D$ so $fx \in \mfrak D$, so $f \mcal O \subseteq \mfrak D$. Of course $f \mcal O$ is also a free abelian group of rank $n$, so again $R = \mcal O / f \mcal O$ is finite. But $f\mcal O$ is also an ideal of the ring $\mcal O$, so in fact $R$ is a finite ring. Consider now any unit $\epsilon \in V$. Then $\epsilon$ is in $\mcal O^*$, so $\overline \epsilon \in R$ is also a unit, since ring maps preserve units. Set now $k = \# R^*$. Then $\overline {\epsilon^k} = \overline 1$ and $\overline {\epsilon^{-k}} = \overline {(\epsilon^{-1})^k} = \overline 1$. Together, these equalities give us
    \begin{align*}
        \epsilon^k = 1 + f \alpha \\
        \epsilon^{-k} = 1 + f \beta
    \end{align*}
    where $\alpha, \beta \in \mcal O$. But as we argued above, $f \alpha$ and $f \beta$ both belong to $\mfrak D$ and so $\epsilon^k \in \mfrak D^*$. Thus, $\epsilon^k$ is either in $W'$ or $V'$ and the first option is impossible as that would imply that $\epsilon^k$ would also be in $W$. Therefore, $\epsilon^k$ is in $V'$ so $V / V'$ is finite meaning that $t' = t$.
\end{proof}

We say that two elements, $\alpha,\beta$ in a module $M$ are \textbf{associated} if there is a unit $\epsilon \in \mfrak D$ so that $\alpha = \epsilon \beta$. Note that when $M$ is equal to its own coefficient ring, this concept is exactly the same as that of being associated in rings. Being associated elements in $M$ defines an equivalence relation on $M$, and from now on we will denote this relation as $\sim$. Define now for some $c \in \mbb N$ the subsets
\begin{align*}
    M_c &= \{ \alpha \in M \mid N(\alpha) = c\} \\
    \overline M_c &= \{ \alpha \in M \mid | N(\alpha) | = c\}
\end{align*}
We are now ready to formulate the following theorem.
% Recall that an equivalence relation on a set restricts to an equivalence relation on any subset of the set.  
\begin{theorem} 
    Let $M$ be a full module of $K$. Then the quotient set $\overline M_c / \sim$ is finite for any $c \in \mbb N$. In particular $M_c / \sim$ is finite.
\end{theorem}
\begin{proof}
We first consider the special case where $M = \mfrak D$. The ring $\mfrak D$ is a full module so it is a free abelian group of rank $n$, hence isomorphic to $\mbb Z^n$. Considering $\mfrak D$ as an abelian group with respect to addition, the subgroup $c \mfrak D$, is normal in $\mfrak D$. We can therefore quotient out this subgroup to get the isomorphism
$$\mfrak D/c \mfrak D \cong \mbb Z^n/c \mbb Z^n \cong (\mbb Z/c \mbb Z)^n$$
Now, $\mbb Z / c \mbb Z$ contains $c$ elements, which means that 
$$c^n = \# (\mbb Z/c \mbb Z)^n = \# \mfrak D/c \mfrak D$$
Denote by $\bar \alpha$ as the image of the canonical projection of $\alpha$ in $\mfrak D/c \mfrak D$ and denote by $[\alpha]$ an equivalence class in $\overline M_c / \sim$, represented by $\alpha \in \overline M_c$. We show that there is a well-defined surjective function of sets 
$$\phi : \overline M_c /c \mfrak D \twoheadrightarrow  \overline M_c / \sim,$$
given by $\phi(\bar \alpha) = [\alpha]$. Suppose $\bar \alpha, \bar \beta$ are in $\overline M_c /c \mfrak D$ so that $\bar \alpha = \bar \beta$. Thus, $\alpha, \beta$ are in $\overline M_c$, so $|N(\alpha)| = |N(\beta)| = c$. We show that $[\alpha] = [\beta]$ - In other words, we show that $\alpha$ and $\beta$ are associates. We have
$$\alpha = \beta + c \gamma = \beta + |N(\beta)| \gamma,$$
for some $\gamma$ in $\mfrak D$. But $\beta$ divides $N(\beta)$ in $\mathfrak D$ so it also divides $|N(\beta)|$ in $\mfrak D$. Hence, $\beta$ divides $\alpha$ in $\mfrak D$ and similarly $\alpha$ divides $\beta$ in $\mfrak D$. Thus, $\alpha$ and $\beta$ are associates, showing that $\phi$ is well-defined. It is surjective simply because if $[\alpha] \in \overline M_c / \sim$, then $\alpha$ is in $\overline M_c$ so $\phi(\bar \alpha) = [\alpha]$. That $\phi$ is a surjection implies that $\# (\overline M_c / \sim) \leq \# \overline M_c / c \mfrak D$, since each element in $\overline M_c /\sim$ has at least one preimage. Now the inclusion $\overline M_c / c \mfrak D \subseteq \mfrak D / c \mfrak D$ implies that $\# (\overline M_c / \sim) \leq \# \overline M_c / c \mfrak D \leq \# \mfrak D / c \mfrak D = c^n$. We will now prove the general statement. Suppose that $M$ is a full module and that $\mfrak D$ is the coefficient ring of $M$. Then $\overline {\mfrak{D}}_c / \sim$ has finitely many elements. By use of (\ref{lem:ModuleCanBeScaledToFitInsideCoefficientRing}), take now a non-zero integer $b$ so that we obtain the inclusions 
$$M \hookrightarrow bM \hookrightarrow \mfrak D$$
It is clear that if $\alpha$ and $\beta$ are associated then also $b\alpha$ and $b\beta$ are associated. Hence we get the inclusions
$$(\overline M_c / \sim) \hookrightarrow (b\overline M_c / \sim) \hookrightarrow (\overline {\mfrak D_c} / \sim) $$
Which means that $$\# (\overline M_c / \sim) \leq \# (b\overline M_c / \sim) \leq \# (\overline {\mfrak D_c} / \sim) \leq c^n$$ 
The last claim now follows since $M_c \subseteq \overline M_c$.  

\end{proof}
We now present a result that allows to find all the elements of $M_c$ if we know the elements of $M_c / \sim$ and all the units with norm 1 in $\mfrak D$.
\begin{theorem}
    Assume that the elements of $M_c / \sim$ are $[\gamma_1], ..., [\gamma_k]$ and that $\alpha \in M$. We then have that $\alpha \in M_c$ if and only if there is a uniquely determined $i$ such that $\alpha = \epsilon \gamma_i$ where $\epsilon$ is a unit in $\mfrak D$ with norm 1.
\end{theorem}

\begin{proof}
    
If $\alpha \in M_c$ then, there is a unique $\gamma_i$ such that $\alpha \in [\gamma_i]$. This means that $\alpha = \epsilon \gamma_i$ for some unit $\epsilon$ in $\mfrak D$. But then $$c = N(\alpha) = N(\epsilon \gamma_i) = N(\epsilon)N(\gamma_i) = N(\epsilon)c$$
So we must have that $N(\epsilon) = 1$. 
\end{proof}

We are therefore interested in finding the units in the ring of algebraic integers that have norm 1. We will first look at the roots of unity. 

\begin{theorem}
    Let $K$ be a number field of degree $n$ over $\mbb Q$. Suppose $n$ is odd. Then the only roots of unity in $\mcal O_K$ are $\pm 1$ and we have $N(1) = 1$ and $N(-1) = -1$. On the other hand, if $n$ is even, then all the roots of unity in $\mcal O_K$ have norm 1.
\end{theorem}
\begin{proof}
    Suppose first that $n$ is odd and let $\zeta$ be a primitive $k$th root of unity in $\mcal O_K$. Then 
    $$\mbb Q \subseteq \mbb Q(\zeta) \subseteq \mcal O_K$$
    As $\phi(k) = [\mbb Q(\zeta) : \mbb Q]$, we have $\phi(k) \mid n$. Thus, $\phi(k)$ has to be odd. But this happens only when $k$ is 1 or 2. Hence $\zeta = \pm 1$. We see that $N(-1) = (-1)^n = -1$. Next, assume that $n$ is even. We then clearly have $1 = N(1) = N(-1)$. Take again $\zeta \in O_K$ to be a primitive $k$th root of unity. Then any embedding $\sigma : K \hookrightarrow \mbb C$ must send $\zeta$ to a primitive $k$th root of unity $\mbb C$. So if $k \geq 3$ then $\sigma(\zeta)$ is an imaginary number. This implies that there are no real embeddings, so $n = 2s$. All the embeddings come in complex conjugate pairs and so we can list them as: $\sigma_1, \overline{\sigma_1}, ... , \sigma_s, \overline{\sigma_s}$. We then have
    $$N(\zeta) = \prod_{i=1}^s \sigma_i(\zeta) \overline{\sigma_i}(\zeta) = \prod_{i=1}^s |\sigma_i(\zeta)|^2 = 1$$
\end{proof}


\begin{theorem}
    Let $K$ be a number field of degree $n = r + 2s$ over the rationals and let $c \in \mbb Z$. Assume further that $M$ is a full module with ring of coefficients $\mfrak D$. Then there exists a system of fundamental units, $\epsilon_1, ..., \epsilon_r$ in $\mfrak D$ and a finite set of elements $\gamma_1, ..., \gamma_k$ in $M$ such that every element $\alpha \in M_c$ can be written as 
    $$\alpha = \gamma_i \epsilon_1^{u_1} ... \epsilon_r^{u_t}$$
    for $i \in \{1, ..., k\}$ and $u_1, ..., u_t \in \mbb Z$.
\end{theorem}

\begin{proof}
    Using Dirichlet's unit theorem, we take a fundamental system of units of $\mfrak D$, say $\epsilon_1, ..., \epsilon_t$ where $t = r + s - 1$ and by use of (???), let $\gamma_1, ..., \gamma_k$ be a system of representatives of the quotient set $M_c / \sim$.
    We split the proof into two cases. Suppose first that $n$ is even. By the above (???) we know that the only primitive roots of unity are $\pm 1$. So if any $\epsilon_i$ has norm -1, we can just swap it out with $-\epsilon_i$ to obtain a unit with norm 1. Modifying all such $\epsilon_i$ we obtain a new system of fundamental units, where each $\epsilon_i$ has norm 1, and so we can write every unit in $\mfrak D$ with norm 1 as a product $\epsilon_1^{u_1}...\epsilon_t^{u_t}$. Thus by (???) we can now write every $\alpha \in M_c$ as $\alpha = \gamma_i \epsilon_1^{u_1}...\epsilon_r^{u_t}$. Suppose now $n$ is odd. Then by (???) all the roots of unity have norm 1, so if it happens that all the $\epsilon_i$ also have norm 1, then all units have this property as well. Suppose now that $1 = N(\epsilon_1) = ... = N(\epsilon_q)$ and $-1 = N(\epsilon_{q+1}) = ... = N(\epsilon_t)$. Define then 
    $\mu_i = \epsilon_i$ for $i \in \{1, ..., q\}$ and $\mu_i = \epsilon_i \epsilon_t$ for $i \in \{q+1, ..., t-1\}$. We now have a new fundamental system of units, namely $\mu_1, ..., \mu_{t-1},\epsilon_t$ and only the last unit, $\epsilon_t$, has norm -1. Thus, by setting $\mu_t = \epsilon_t^2$, all units of norm 1 in $\mfrak D$ can now be written as $\zeta \mu_1^{u_1}...\mu_t^{u_t}$, where $\zeta$ is a root of unity in $\mfrak D$. By the unit theorem, there are only finitely such $\zeta$. Hence there are only finitely many, let's say $h$, numbers $\zeta \gamma_i$, where $\zeta$ is a root of unity. We can therefore list all of these, $\gamma'_1, ..., \gamma'_h$ and by (???) write any element $\alpha \in M_c$ as 
    $$ \alpha = \gamma'_i \mu_1^{u_1} ... \mu_r^{u_r}$$
\end{proof}





\section{Fields with an absolute value}

\begin{definition}[Absolute value]
    Let $K$ be a field. A function $\abs{} : K \to \mbb R$, is called an absolute value if it happens to satisfy the properties
    \begin{itemize}
        \item $\abs{x} \geq 0$ for every $x \in K$. (Non-negativity)
        \item $\abs{x} = 0$ if and only if $x = 0$. (Zero detection)
        \item $\abs{xy} = \abs{x} \abs{y}$ for every $x,y \in K$. (Multiplicativity)
        \item $\abs{x + y} \leq \abs{x} + \abs{y}$ for every $x,y \in K$. (Triangle inequality)
    \end{itemize}
    When the triangle inequality can be upgraded to the stronger condition $$\abs{x + y} \leq \max \{\abs{x}, \abs{y}\} \quad \text{for every } x,y \in K,$$
    the absolute value is said to be \textbf{non-archimedian}. Otherwise it is called \textbf{archimedian}. If $\abs{}$ is indeed an absolute value then the field $K$ is called a valued field.
\end{definition}
Sometimes we will be working with two valued fields, $K$ and $F$. To distinguish the absolute values on these fields we will write $\abs{}_K$ and $\abs{}_F$. The usual absolute value on $\mbb R$ is an example of a non-archimedian absolute value, so $\mbb R$ is an example of a valued field. We will denote this absolute value by $\abs{}_\infty$. If it happens to be the case that $K$ is a field extension of $F$, we will say that the absolute value on $K$ extends (or preserves) the absolute value on $F$ if $\abs{}_K$ restricted to $F$ is the same function as $\abs{}_F$. In this case we will typically not be explicit about which absolute value we are using - instead we will just write $\abs{}$.


Once we have an absolute value on field $K$, we can of course use it to define a metric, $d : K^2 \to \mbb R$, by setting $d(x,y) = \abs{x - y}$. As such, $K$ can now be thought of as a metric space, and we therefore now have a topology on $K$, generated by $d$. We will also refer to this topology as the topology induced by $\abs{}$.

\begin{proposition}
    An absolute value $\abs{}$ on a field $K$ is uniformly continuous.  
\end{proposition}
\begin{proof}
    Let $\epsilon > 0$ and pick $\delta = \epsilon$. For any $x,y \in K$ so that $|x - y| < \delta$ we have 
    $$||x| - |y||_\infty \leq |x - y| < \delta = \epsilon$$
    where we have used the reverse triangle inequality. 
\end{proof}
Uniformly continuous functions have the nice property that they preserve Cauchy sequences. This implies that if we have some Cauchy sequence, $(x_n)$ in $K$, then $(|x_n|)$ is a Cauchy sequence in $\mbb R$. We will use this fact later on.

It might very well happen that two absolute values on $K$ induce the same topology and whenever this happens we say that the absolute values are equivalent. This defines an equivalence relation on the set of absolute values on $K$, and the equivalence classes are called \textbf{places} of $K$. 

Note that it is always possible to define at least one absolute value on any given field. namely the function sending everything in a field to 1 except for 0 which is sent to 0. This satisfies all the above criteria but does not lead to anything interesting. For example, it induces the discrete topology on $K$. For this reason we will not consider it. 

We now turn to a notion that is closely related to absolute values - namely valuations. 

\begin{definition}[Valuation]
    A valuation on a field $K$ is a function $v : K \to \mbb R \cup \{\infty\}$ with the following properties 
    \begin{itemize}
        \item $v(x) = \infty$ if and only if $x = 0$.
        \item $v(xy) = v(x) + v(y)$ for every $x,y \in K$. 
        \item $v(x + y) \geq \min \{v(x), v(y)\}$ for every $x,y \in K$.
    \end{itemize}
\end{definition}

(NOT SURE ABOUT EVERYTHING WRITTEN HERE)
We stipulated that these concepts have something to do with each other. Let us see why. Suppose we have access to a valuation, $v$ on a field $K$. Then for any $q > 0$ we get what we will call a \textbf{corresponding} absolute value on $K$ by setting $\abs{x} = q^{-v(x)}$. This absolute value is in fact non-archimedian because of the third property in the definition above. No matter the choice of $q > 0$, all of these absolute values will be equivalent. In other words, they are all representatives of the same place. Thus, we will say that two valuations are equivalent if they correspond to the same place, giving us now an equivalence relation on the set of valuations on $K$. We can also go the other way around, so in fact there is a bijective correspondence between non-archimedian places and the equivalence classes of valuations on $K$.

\begin{definition}
    A valuation on a field $K$ is called discrete if there is an element $\pi \in K$ so that $0 < v(\pi) \leq v(x)$ for every $x \in K$. Such an element $\pi$ is called a prime element of the valuation, and if $v(\pi) = 1$ we say that $v$ is normalized. 
\end{definition}

\begin{proposition}
    (MENTION HERE THAT WE CAN TAKE ANY EQUIVALENT VALUATION OR ABSOLUTE VALUE ON K  )
    The object
    $$\mcal O = \{x \in K :  v(x) \geq 0 \} = \{x \in K : |x| \leq 1 \}$$ 
    is a ring with unity, called the valuation ring of $K$. It is in fact a local ring, with maximal ideal 
    $$\mfrak p = \{x \in K : v(x) > 0 \} = \{x \in K : |x| < 1 \}$$
    Hence the quotient ring $\mcal O / \mfrak p$ is a field and is called the residue field of $K$, and we typically denote it by $\kappa$. It follows that the units are 
    $$O^* = \mcal O \setminus \mfrak p = \{x \in K : v(x) = 0 \} = \{x \in K : |x| = 1 \}$$
    If the valuation is discrete, then the valuation ring is a PID. If $v$ is normalized and $\pi \in \mcal O$ is a prime element then $(\pi) = \mfrak{p}$ and all non-zero ideals are given by
    $$\mfrak p^n = \{x \in K : v(x) \geq n \}$$
    for $n \geq 0$. In particular, $\mcal O$ is a local Dedekin domain. Furthermore, the residue field is isomorphic to subsequent quotients of powers of $\mfrak p$, i.e,
    $$\mcal O / \mfrak p \cong \mfrak p^n / \mfrak p^{n+1}$$
\end{proposition}

\begin{proof}
    
\end{proof}
There is in fact another way of constructing the valuation ring. Suppose $K$ is complete with respect to a discrete valuation. For each $n$ we have the natural projection 
$$\mcal O \xrightarrow{\pi_n} \mcal O / \mfrak p^n.$$ 
We have the inclusions $\mfrak p \supset \mfrak p^2 \supset ...$, which implies that every element in $\mfrak p^{n+1}$ is sent to zero under this map, giving us a commutative diagram
$$\begin{tikzcd}
    & \mcal O \arrow[ld, "\pi_{n}"'] \arrow[rd, "\pi_{n+1}"] & \\
    \mcal O / \mfrak p^{n} & & \mcal O / \mfrak p^{n+1} \arrow[ll, "\lambda_{n}"']
\end{tikzcd}$$

% Putting all of these triangles next to each other we obtain

Thus, we get a sequence of maps 
$$\mcal O / \mfrak p \xleftarrow {\lambda_1} \mcal O / \mfrak p^2 \xleftarrow {\lambda_2} \mcal O / \mfrak p^3 \xleftarrow {\lambda_3} ...$$

We are now ready to define the projective limit, which will turn out to be the same thing as $\mcal O$.

\begin{definition}
    The set
    $$\lim_{\leftarrow} \mcal O / \mfrak p^n = \{ (x_n) \in \prod_{n=1}^\infty \mcal O / \mfrak p^n : \lambda_n(x_{n+1}) = x_n \}$$
    is a ring subring of $\prod_{n=1}^\infty \mcal O / \mfrak p^n$ and is called the projective limit of the system of rings $\mcal O / \mfrak p^n$.
\end{definition}

Because of the commutative diagram above we obtain a ring map 
$$\mcal O \to \lim_{\leftarrow} \mcal O / \mfrak p^n$$
which just sends an element in $\mcal O$ to its respective equivalence class in the projective limit. Equipping each of the $\mcal O / \mfrak p^n$ with the discrete topology, the projective limit becomes a closed subset of the product topology on $\prod_{n=1}^\infty \mcal O / \mfrak p^n$. We have the following theorem

\begin{theorem}
    The map $\mcal O \to \lim_{\leftarrow} \mcal O / \mfrak p^n$ is an isomorphism of rings and a homeomorphism.
\end{theorem}


\section{Completions of fields}
As soon as we have a metric on a field $K$ we can start to talk about convergence of sequences in this field. There might be such a sequence which at first glance looks it is converging to an element in $K$, even though it in fact converges to a point outside of $K$. As such, this point can in a sense be thought of as a hole in $K$, with respect to the metric. The completion of a field is essentially the process of patching up all these holes. 


%To make this more concrete, let us look at an example. In $\mbb Q$ equipped with the usual absolute value, one can find a Cauchy sequence converging to $\sqrt 2$ which of course does not belong to $\mbb Q$ and filling out all of these holes is a way of constructing the field $\mbb R$.

\begin{definition}[Complete valued field]
    We say that a valued field, $K$, with absolute value, $\abs{}$, is complete if every Cauchy sequence in $K$ converges to some element in $K$ with respect to $\abs{}$.
\end{definition}

In the $\mbb R$ equipped with the standard absolute value, it is well known that every Cauchy sequence converges and hence it is an example of a complete valued field.  

\begin{theorem}[Ostrowski]
    (WRITE THIS OUT PROPERLY)
    Suppose that $K$ is field which is complete with respect to an archimedian valuation. Then $K \cong \mbb R$ or $K \cong \mbb C$.
\end{theorem}


\begin{theorem}
    Let $K$ be a valued field and $R$ be the set of all Cauchy sequences of $K$. Then $R$ is a ring and the set $\mfrak m$ of all null sequences of $R$ is a maximal ideal.
\end{theorem}
\begin{proof}
    % The operations on $R$ are defined element wise. As such, the Cauchy property is preserved under both addition and multiplication and rules such as the distributive law hold are inherited from the ring structure on $K$. The Cauchy sequences $1,1,1,...$ and $0,0,0,...$ are the identity elements for multiplication and addition respectively.
    The operations on $R$ are defined element wise and it is therefore follows from analysis that $R$ is a ring. The set $I$ is non-empty, as it most certainly contains the constant sequence $\tilde 0$. Furthermore the difference of two null sequences is again a null sequence and the product of any sequence by a null sequence is also a null sequence. Thus, $I$ is an ideal. Let us now show that $I$ is a maximal ideal. Take an element in $x_n \in R$ which is not also in $I$. We wish to show that the ideal $J = (x_n) + I$ contains $\tilde 1$, i.e, that this ideal is in fact the entire ring $R$. The sequence $|x_n|$ is a Cauchy sequence in $\mbb R$ with respect to the usual absolute value. Hence there is an $N$ so that if $n \geq N$ then $|x_n| \geq c > 0$. Thus we can define 
    $$y_n = \begin{cases} \frac{1}{x_n} & \text{if } n \leq N \\ 0 & \text{if } n > N \end{cases}$$
    Let now $\epsilon > 0$ be given and choose $M$ so that $|x_n - x_m| < c^2 \epsilon$ whenever $n,m \geq M$. For $n,m \geq \max\{N,M\}$ we now have
    \begin{align*}
        |y_n - y_m| = |\frac{1}{x_n} - \frac{1}{x_m}| = |\frac{x_m - x_n}{x_n x_m}| \leq \frac{1}{c^2} |x_m - x_n| \leq \frac{c^2 \epsilon}{c^2} = \epsilon
    \end{align*}
    But that means that $y_n$ belongs to $R$ and so $x_n y_n$ is in $J$. Denote by $1$ the identity in $R$, i.e, the constant sequence $(1,1,1, ...)$. We now have $1 - x_n y_n \in J$ and so $1$ is in $J$.

\end{proof}


\begin{proposition}(Universal property for quotients) \label{prop: Universal property for quotients}
    Let $R,S$ be a rings and $I \subseteq R$ an ideal. Suppose we have a function $f : R \to S$, which vanishes on $I$ and is an additive group homomorphism when restricted to $I$. Then there exists a uniquely determined function $$\bar f : R / I \to S$$
    such that the following diagram commutes
    % https://q.uiver.app/#q=WzAsMyxbMCwyLCJSL0kiXSxbMiwyLCJTIl0sWzEsMCwiUiJdLFswLDEsIlxcZXhpc3RzISBcXGJhciBmIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsMCwiXFxwaSIsMl0sWzIsMSwiZiJdXQ==
\[\begin{tikzcd}
	& R \\
	\\
	{R/I} && S
	\arrow["{\exists! \bar f}"', dashed, from=3-1, to=3-3]
	\arrow["\pi"', from=1-2, to=3-1]
	\arrow["f", from=1-2, to=3-3]
\end{tikzcd}\]
    In this case we say that $f$ descends to the quotient, $R / I$. If $f$ is a ring map then so is $\bar f$.  
\end{proposition}
\begin{proof}
    If there is a map $\bar f$ so that the diagram commutes then what that means is that we have, for all $r \in R$ 
    $$\bar f (\pi(r)) = f(r)$$
    But $\pi$ is surjective so this condition forces how $\bar f$ is defined, and hence $\bar f$ is unique if it exists. Suppose now that $x,y \in R$ so that $\bar x = \bar y$. Then $x-y \in I$ and so $f(x-y) = 0$, so $f(x) = f(y)$ as $f$ is an additive homomorphism when restricted to $I$. Hence $\bar f$ is well defined. If $f$ is a ring map, then $\bar f$ also be a ring map because the diagram commutes. 
\end{proof}


From this it follows that $\hat K = R / \mfrak m$ is a field. Define now $$\tilde x = (x,x,x,...) + \mfrak m \in \hat K$$ for any $x \in K$. This map is a homomorphism of fields and it is certainly not the zero map, which implies that it is injective. We can therefore think of $K$ as a subfield of $\hat K$. 

\begin{theorem}[Completion]
    The function $\phi : R \to \mbb R$, given by
    $$(x_n) \mapsto \lim_{n \to \infty} \abs{x_n}$$
    descends to a unique function, $\abs{}'$, on the quotient $\hat K = R / \mfrak m$. We have the following properties
    \begin{itemize}
        \item $\abs{}'$ is an absolute value on $\hat K$
        \item $\hat K$ is complete with respect to $\abs{}'$
        \item $\abs {}'$ is an extension of the absolute value on $K$
        \item $K$ is dense in $\hat K$
    \end{itemize}
    We say that the field $R / \mfrak m$ is the completion of $K$ with respect to the absolute value $\abs{}$.
\end{theorem}
\begin{remark}
    Because $\abs{}'$ is an extension of $\abs{}$, we will, for ease of notation, simply denote $\abs{}'$ by $\abs{}$.
\end{remark}

\begin{proof}
    First of all, if $(x_n) \in R$, then $(x_n)$ is a Cauchy sequence in $K$. Hence  $(|x_n|)$ is a Cauchy sequence in $\mbb R$, hence it converges to an element in $\mbb R$, since $\mbb R$ is complete. Hence the map $\phi$ is well defined. Suppose that $x_n \in \mfrak m$. Then $x_n$ converges to $0 \in K$ hence $|x_n|$ converges to $0 \in \mbb R$ as $\abs{}$ is continuous. In other words, the map $\phi$ vanishes on $\mfrak m$. If $(x_n), (y_n) \in \mfrak m$ then by the triangle inequality we get 
    $$|x_n + y_n| \leq |x_n| + |y_n|$$
    But the right hand side converges to 0, so $\phi$ is an additive group homomorphism when restricted to $\mfrak m$. So by the universal property for quotients, $\phi$ descends to a unique function, $\abs{}'$ on the quotient $\hat K$. Let us now prove that $\abs{}'$ is actually an absolute value on $K$. Suppose $x = \overline {(x_n)} \in \hat K$ so that $\abs{x}' = 0$. As $\abs{}$ is continuous we have
    $$0 = |x|' = \lim_{n \to \infty} \abs{x_n} =  \abs {\lim_{n \to \infty} x_n}$$
    But $\abs{}$ is an absolute value on $K$ so we must have 
    $$\lim_{n \to \infty} x_n = 0$$
    In other words, $(x_n)$ is a null sequence meaning that $x = 0$. For the converse, $\phi$ vanishes on $\mfrak m$. Thus if $x \in \hat K$ we have $\abs{x}' = 0$ if and only if $x = 0$. The remaining properties for $\abs{}'$ to be an absolute value are simply inherited from the absolute value $\abs{}$ on $K$. It is also easily seen that $\abs{}'$ extends $\abs{}$. For if $x \in K$ then 
    $$|x| = \lim_{n \to \infty} x = \phi(\tilde x) = \abs{\overline{ \tilde {x}}}'$$

    (IS IT OKAY TO JUST CONSIDER THE POINT 0)
    Let us now show that $K$ is dense in $\hat K$. What we mean by this is that the image of $K$ under the map $x \mapsto \tilde x$ is dense in $\hat K$. Let $\epsilon > 0$, take $\lambda \in \hat K$ and consider the open ball $B(\lambda, \epsilon)$. Let us show that we can find a constant sequence inside of this ball. Let $(x_n)$ be a Cauchy sequence representing $\lambda$. As $(x_n)$ is Cauchy we can find $N \in \mbb N$ so that $|x_n - x_m| < \epsilon / 2$ for all $m,n \geq N$. Define now the constant sequence $y = (x_N)$. Now, using the definition of the absolute value on $\hat K$ we get
    $$|\lambda - y|' = \lim_{n \to \infty} |x_n - x_N| \leq \epsilon/2 < \epsilon$$
    This shows that $y \in B(\lambda, \epsilon)$ and we conclude that $K$ is dense in $\hat K$.
    
    Now we are ready to show that $\hat K$ is complete with respect to $\abs{}'$. To do this, suppose that we have a Cauchy sequence $(\lambda_n)$ in $\hat K$. As we have just seen, $K$ is dense in $\hat K$. So for every $lambda_i$, we can find an element $y_i \in K$ so that $|\lambda_i - \tilde y_i|' < \frac{1}{i}$. This way we get a sequence $(\tilde y_n)$ in $\hat K$ and we observe that
    $$\lim_{n \to \infty} |\lambda_n - \tilde y_n|' = 0$$
    Hence, by MISSING $(\tilde y_n)$ is also Cauchy. But then also the sequence $(y_n)$ in $K$ is Cauchy since $\abs{}'
    $ extends the absolute value on $K$. But that means that $(y_n)$ represents an element in $\hat K$. Call this element $\lambda$ and let us show that $\lim_{n \to \infty} \lambda_n = \lambda$. To do this, it suffices to show that $\lim_{n \to \infty} \tilde y_n = \lambda$. As $(y_n)$ is Cauchy, we can find $N$ so that if $n,m \geq N$ then $|y_n - y_m| < \epsilon / 2$. For any $n \geq N$ we now have
    $$|\tilde y_n - \lambda|' = \lim_{m \to \infty} |y_n - y_m| \leq \epsilon / 2 < \epsilon$$
    This shows that
    $$\lim_{n \to \infty} |\tilde y_n - \lambda|' = 0$$
    and we are therefore done.
    % proof missing
\end{proof}

\begin{proposition}
    Let $K,F$ be valued field and suppose $\phi : K \to F$ is a ring map. If $\phi$ preserves absolute values, then it is uniformly continuous. 
\end{proposition}

\begin{proof}
    This follows from the fact that $\abs{}_K$ is uniformly continuous and that
    $$|\phi(x) - \phi(y)|_F = |\phi(x-y)|_F = |x-y|_K$$ 
\end{proof}

The field $\hat K$ satisfies a certain universal property. This property says, in a precise sense, that $\hat K$ is the smallest possible field extension of $K$ which is complete. 

(IT ALSO SAYS THAT IT IS UNIQUELY DETERMINED BY CERTAIN PROPERTIES)

\begin{proposition}[Universal property for completions]
    Suppose $K$ is a field with absolute value, $\abs{}$. There is a complete valued field extension, $\hat K/K$, which preserves $\abs{}$, satisfying the following universal property; If $L/K$ is any other complete valued field extension preserving $\abs{}$ then there is a unique continuous field map $\phi : \hat K \to L$, which preserves absolute values, making the following diagram commute
    \[\begin{tikzcd}
        & K \\
        \\
        \hat K && L
        \arrow["{\exists! \phi}"', dashed, from=3-1, to=3-3]
        \arrow[from=1-2, to=3-1]
        \arrow[from=1-2, to=3-3]
    \end{tikzcd}\]
    Also, the field $\hat K$ is unique up to unique isomorphism and $K$ is dense in $\hat K$.
\end{proposition}

\begin{proof}   
    Take $\hat K$ to be $R / \mfrak m$. As we have already established, $\hat K$ is complete with respect to $\abs{}$ extended to $\hat K$. Now pick any sequence $(x_n) \in R$. By assumption, the absolute value of $x_n \in K$ in $\hat K$ and in $L$ is the same. Hence $(x_n)$ is also a Cauchy sequence when regarded as a sequence in $L$. As $L$ is complete, this sequence actually converges to some element in $L$. Hence we get a map $f : R \to L$, defined by 
    $$(x_n) \mapsto \lim_{n \to \infty} x_n.$$
    This is clearly a ring map and it takes every element of $\mfrak m$ to 0. By the universal property for quotients we obtain a unique ring map $\phi : \hat K \to L$ so that $\phi = f \circ \pi$, where $\pi : R \to \hat K$ is the canonical projection. Let us now show that the map $\phi$ preserves the absolute value. Let $x = \overline {(x_n)} \in \hat K$. Using the fact that absolute values on fields are uniformly continuous hence continuous we get 
    $$|\phi(x)|_L = |\lim_{n \to \infty} x_n|_L = \lim_{n \to \infty} |x_n|_L = \lim_{n \to \infty} |x_n|_K = |x|_K$$    
    Any $x \in K$ mapped to the constant sequence $(x,x,x, ...) \in R$ will clearly be mapped to $x$ under $f$. Thus, the map $\phi$ acts as the identity when restricted to $K$ meaning that $\phi$ fits into the diagram in the proposition. If we had another continuous map, $\psi$, making this diagram commute, then that map would necessary also be the identity when restricted to $K$. Thus, the two continuous maps $\psi$ and $\phi$ agree on the dense subset $K \subseteq \hat K$. But that implies that $\phi = \psi$ on all of $\hat K$ and hence $\phi$ is unique.
    
    %We now need to make sure that $\phi$ fits into the diagram above. Take an element $x \in K$. This element is mapped to $\tilde x \in \hat K$ which is mapped to $x$ under $\phi$. Hence the diagram commutes. 
     
    If $L$ also happens to satisfy the universal property we can use the universal property twice to get the diagram

    % https://q.uiver.app/#q=WzAsMyxbMCwyLCJcXGhhdCBLIl0sWzIsMiwiTCJdLFsxLDAsIksiXSxbMCwxLCJcXGV4aXN0cyFcXHBoaSIsMSx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsyLDAsIlxcaW90YV8xIiwyXSxbMiwxLCJcXGlvdGFfMiJdLFsxLDAsIlxcZXhpc3RzIVxccHNpIiwxLHsiY3VydmUiOi0yLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
	& K \\
	\\
	{\hat K} && L
	\arrow["{\exists!\phi}"{description}, dashed, from=3-1, to=3-3]
	\arrow["{\iota_1}"', from=1-2, to=3-1]
	\arrow["{\iota_2}", from=1-2, to=3-3]
	\arrow["{\exists!\psi}"{description}, curve={height=-12pt}, dashed, from=3-3, to=3-1]
\end{tikzcd}\]
    Writing out the commutativity condition we get
    \begin{align*}
        \iota_1 &= \psi \circ \iota_2 \\        
        \iota_2 &= \phi \circ \iota_1 \\
    \end{align*}
    Combining these we obtain
    $$\iota_1 = \psi \circ (\phi \circ \iota_1) = (\psi \circ \phi) \circ \iota_1$$
    So $\psi \circ \phi$ has to be the identity on $\hat K$ and similarly $\phi \circ \psi$ is the identity on $L$. As such, these two maps are in fact isomorphisms and these are even uniquely determined. Hence any field satisfying the universal property is unique up to unique isomorphism. Now for the last statement; Maintaining the assumption that $L$ satisfies the universal property, let us now show that $K$ is dense in $L$. By this we of course mean that we want to show that the image $\iota_2(K)$ is dense in $L$. Knowing that $\iota_2(K) = \phi (\iota_1(K))$ and that $\overline{\iota_1(K)} = \hat K$ we obtain
    $$\overline{\iota_2(K)} = \overline{\phi (\iota_1(K))} = \phi (\overline {\iota_1(K)}) = \phi(\hat K) = L$$
\end{proof}

REMARK: This theorem allows us to do the following. When we talk about the completion of $K$ we do not necessarily have to think about the concrete construction that we carried out, ie $R / \mfrak m$. Rather, we can just think of a field that satisfies the universal property instead. 

Right now, we don't have an absolute value on $R / \mfrak m$, so saying that this field is complete would not make much sense. But it turns out that the absolute value on $K$ can be extended to $R / \mfrak m$ and with respect to this absolute value, $R / \mfrak m$ is indeed complete.

% Show that a discrete valuation extends to discrete valuation by showing that the image of the two valuations are the same.

\begin{lemma} \label{lem: Image of valuation and completed valuation are the same}
    Let $K$ be a field with a valuation $v$ and let $\hat K$ be the completion of $K$. We have 
    $$v(K) = v(\hat K)$$
    Thus, $\hat v$ is discrete and normalized if $v$ is.
\end{lemma}


\begin{lemma} \label{lem: Fraction field of ring of integers is number field}
    Let $K$ be a number field. The fraction field of $\mcal O$ is equal to $K$. In other words, every element of $K$ can be written as $\frac{\alpha}{\beta}$ for some $\alpha, \beta \in \mcal O$, where $\beta \neq 0$.
\end{lemma}
\begin{proof}
    Let $F$ be the fraction field of $\mcal O$. Then $F \subseteq K$ as $F$ is the smallest field containing $\mcal O$. For the other inclusion, suppose for contradiction that $[K : F] > 1$. Take then an element, $x$, which is in $K$ but not in $F$. Next, find an integer $d$ so that $d \alpha$ is an algebraic integer. What this means is that $d \alpha \in \mcal O_K$, and therefore $d \alpha \in F$. But then $\alpha \in F$, contrary to our initial assumption. Hence $F = K$.
\end{proof}



\begin{example}\label{ex: P-adic numbers}
    % USED, BUT NOT ARGUED FOR: 
    % - If v is discrete then the extension of v is also discrete
    % - The number field K coincides with the field of fractions of O_K


    Consider an algebraic number field $K$ and fix a prime $\mfrak p$ of this field. For any $\alpha \in \mathcal O_K$ different from 0, we can consider the factorization
    $$\alpha \mcal O_K = \mfrak p^k A$$
    where $A$ is an ideal so that $\mfrak{p} \nmid A$ and $k \in \mbb N_0$. From this requirement, it follows that $k$ is uniquely determined because we have unique prime factorization of ideals in Dedekin domains. This means that we can define $v_\mfrak p(\alpha) = k$ and so we get a valuation on $\mcal O_K$,
    $$v_\mfrak p : \mathcal O_K \to \mbb{Z} \cup \{\infty\}$$
    once we formally define $v_\mfrak p(0) = \infty$. This function can even be extended to all of $K$; For any $x \in K$ we can, because of (\ref{lem: Fraction field of ring of integers is number field}) find $\alpha, \beta \in \mathcal O_K$, $\beta \neq 0$, so that $x = \frac{\alpha}{\beta}$ so we can now define
    $$v_\mfrak p(x) = v_\mfrak p \left(\frac{\alpha}{\beta}\right) = v_\mfrak p(\alpha) - v_\mfrak p(\beta)$$    
    This function is called the $\mfrak p$-adic valuation of $K$ and is non-archimedian. The prime $\mfrak p$ lies above a unique prime $p$ in $\mbb Z$. In other words, $p O_K = \mfrak p$, and so $v_\mfrak p(p) = 1$. This valuation is therefore also discrete and normalized. The completion of $K$ with respect to this valuation is denoted by $K_\mfrak p$ and is called the $\mfrak p$-adic numbers. We know that the extended valuation on it is discrete and normalized because of (\ref{lem: Image of valuation and completed valuation are the same}). Thus there is an element $\pi \in K_\mfrak p$ so that $v_\mfrak p(\pi) = 1$. Also we know that $\mfrak P^e = \mfrak p \mcal O_{K_\mfrak p} = p \mcal O_{K_\mfrak p}$ for some $e \in \mbb N$. Therefore, $\hat v(p) = e$ and so $\hat v(\pi^e p) = 0$ meaning that $\pi^e p$ is a unit in $\mcal O_{K_\mfrak p}$. 
    
    
    
    
    Next, let us show that $K_{\mfrak p}$ is a local field. We only need to show is that its residue field is finite. Let $\mcal O_{K_\mfrak p}$ be the valuation ring of $K_\mfrak p$ with $\mfrak P$ being its unique maximal ideal. 
    
    
    
    
    
    
    
    If $\mcal O$ is the valuation ring of $K$, we then see that we have the inclusions (WE NEED TO SHOW THAT VALUATION RING CONTAINS ALL ALGEBRAIC INTEGERS)
    $$\mcal O_K \subseteq \mcal O \subseteq \mcal O_{K_\mfrak p},$$  
    meaning that we have a map
    $$\mcal O_K \to \mcal O_{K_\mfrak p} / \mfrak P$$
    Now, $\mfrak p \subseteq \mfrak P$ and so the kernel of this map is $\mfrak p$. 

    $$\mcal O / \mfrak p \cong \mcal O_{K_\mfrak p} / \mfrak P$$
    
    
    It is also surjective (SHOW THIS) and therefore we have an isomorphism 
    $$\mcal O_{K_\mfrak p} / \mfrak P \cong \mcal O_K / \mfrak p$$
    But $\mcal O_K / \mfrak p$ is finite so also $\mcal O_{K_\mfrak p} / \mfrak P$ is finite. 
\end{example}

We now present an important special case of the above example.

\begin{definition}[$p$-adic numbers] 
    Set $K = \mbb Q$ and $\mfrak p = (p)$ for a prime number $p$ in $\mbb Z$. In this situation we denote $K_\mfrak p$ by $\mbb Q_p$ and call it the field of $p$-adic numbers. The valuation ring of $\mbb Q_p$ is denoted by $\mbb Z_p$ and is called the ring of $p$-adic integers.
\end{definition}



\begin{lemma} \label{lem:SufficientConditionForConvergence}
    Let $\abs{}$ be a non-achimedian absolute value on a field $K$ and let $v$ be an additive valuation corresponding to $||$. Suppose $x_n$ is a sequence in $K$. Define the sequence $y_n = x_{n+1} - x_{n}$. The following are equivalent
    \begin{enumerate}
        \item $x_n$ is Cauchy.
        \item $|y_n| \to 0$ as $n \to \infty$.
        \item $v(y_n) \to \infty$ as $n \to \infty$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    A sequence being Cauchy clearly implies that $y_n$ converges to 0. For the next implication, consider that $v(x) = - \log |x|$ by definition (IS THIS REALLY THE CASE). For the last implication, (FIX THIS PROOF)
    
    Let $N \in \mbb N$ be so large that makes $|y_n| \leq \epsilon$. Suppose now $n > m > N$. We obtain
    \begin{align*}
        |x_n - x_m| &= |x_n - x_{n-1} + x_{n-1} - ... + x_{m+1} - x_{m}| \\ 
        &= |y_n + y_{n-1} + ... + y_{m}| \leq \max \{|y_n|, ..., |y_m|  \} \leq \epsilon
    \end{align*}
\end{proof}

In particular, we can use this lemma to show that a sum $\sum_{n=1}^\infty x_n$ converges by showing that the individual terms $x_n$ converge to 0. This is certainly not something we can do in the archimedian setting - consider for example the harmonic series. 


To show that a sequence converges, one can use both the exponential and the multiplicative valuation. 



\section{Local manifold}

\begin{definition}[Analytic function]
    Suppose $K$ is a complete field. A function, $f$, defined on a domain contained $C \subseteq K$, is called analytic if it can be represented as a power series which is convergent on $C$.
\end{definition}

\begin{definition}[Local manifold] \label{def: Local manifold}
    Suppose $K$ is complete with respect to a valuation $v$, and let $\abs{}$ be a corresponding absolute value. Let $\overline K$ denote the algebraic closure of $K$. We will refer to the elements, $(\alpha_1, ..., \alpha_n)$ of the cartesian product, $\overline K^n$, as points. The set of points where $|\alpha_i| < \epsilon$ for all $i = 1, ..., n$, we call an $\epsilon$-neighborhood of the origin. Let $R = \overline K[[x_1, ..., x_n]]$ (WHAT IS THE RING OF COEFFICIENTS HERE?) denote the set of all format power series, $f(x_1, ..., x_n)$ with coefficients in $\overline K$ and let $F$ be the set of all $f \in R$ so that $f$ converges in some $\epsilon$-neighborhood of the origin.

    Assume $f_1, ..., f_m \in F$ all of which have zero constant term. The set $V$ of points $X \in \overline {K}^n$ such that $$f_1(X) = ... = f_m(X) = 0$$
    where $X$ belongs to some $\epsilon$-neighborhood of the origin is called a local manifold. We say that two local manifolds are equal if there is an $\epsilon$-neighborhood in which they are the same.
\end{definition}

\begin{definition}[Curve]
    A curve in $\overline K^n$ is a collection of $n$ power series, $\omega_1(t), ..., \omega_n(t) \in \overline K[[t]]$, not all identically zero, but with constant term zero. We say the curve lies on a manifold $V$, if for every $f \in I_V$ we have $$f(\omega_1(t), ..., \omega_n(t)) = 0$$
\end{definition}

\begin{proposition}
    The set $F$ in the definition above is actually a ring. Suppose $V$ is a local manifold. The subset, $I_V \subseteq F$, given by 
    $$I_V = \{ f \in F \mid f(X) = 0 \text{ for all } X \in V\}$$ 
    is an ideal of $F$.
\end{proposition}

\begin{remark}
    Recall that all the units in the ring of formal power series over a field are those that have constant term different from 0. So if we were to allow such formal power series in (\ref{def: Local manifold}), then the ideal $I_V$ would be the entire ring $F$, and so the quotient ring $F / I_V$ would be the zero ring. This explains why we require the constant term of the power series to be zero.
\end{remark}


\begin{theorem}
    A local manifold is either equal to the set containing just the origin, or it contains a curve.
\end{theorem}

\begin{theorem}
    Suppose $V$ and $V'$ are local manifolds in $\overline K^n$ such that $V \nsubseteq V'$. Then there is a curve on $V$ that does not lie on $V'$.
\end{theorem}
\begin{remark}
    Note that by contraposition, we have the following: If for all curves, $C$, we have that $C$ is not on $V$ or $C$ is on $V'$, then $V \subseteq V'$. This is the same as saying: If every curve on $V$ is also on $V'$ then $V \subseteq V'$.
\end{remark}




EXPLAIN WHY: Elements in the quotient ring $\mfrak D_\epsilon / I_V$ can be thought of as functions on the local manifold $V$.


\section{Local fields}
In algebraic number theory we very frequently study finite extensions of $\mbb Q$, known as number fields. Similarly, it turns out to be fruitful to consider the finite extensions of $\mbb Q_p$, the field of $p$-adic numbers. These fields are called local fields and we will take a look at them now. We start out by giving another definition of these fields.

\begin{definition}
    A field $K$ is called a \textbf{local field} if it is complete with regards to a discrete valuation and has finite residue field.
\end{definition}

\begin{proposition}
    A local field of characteristic 0 is the same thing as a finite extension of $\mbb Q_p$.
\end{proposition}

\begin{lemma}\label{lem: Valuation ring mod power of prime is finite in local field}
    Let $K$ be a local field with residue field $\kappa = \mcal O / \mfrak p$, and let $q = \# \kappa$. For any $n \in \mbb N$ we have $\# (\mcal O / \mfrak p^n) = q^n$.
\end{lemma}

\begin{proof}
    Since the valuation on $K$ is discrete, we know that for any $k \in \mbb N$ we have $$\mfrak p^k / \mfrak p^{k+1} \cong \kappa,$$
    as groups under addition. We prove the statement using induction on $n$. The base case $n = 1$ is clear. So suppose that $\# (\mcal O / \mfrak p^n) = q^n$. We have the isomorphism
    $$(\mcal O / \mfrak p^{n+1}) / (\mfrak p^n / \mfrak p^{n+1}) \cong \mcal O / \mfrak p^{n}$$
    But since $\mfrak p^n / \mfrak p^{n+1}$ and $\mcal O / \mfrak p^{n}$ have finite order, also $\mcal O / \mfrak p^{n+1}$ must have finite order. By Lagrange's theorem, it now follows that $$\# (\mcal O / \mfrak p^{n+1}) = \# (\mcal O / \mfrak p^{n}) \cdot \# (\mfrak p^n / \mfrak p^{n+1}) = q^{n+1}$$
\end{proof}


\begin{proposition}
    Let $K$ be a valued field and $(x_n)$ and $(y_n)$ sequences of $K$. If $(x_n)$ is Cauchy and $\lim_{n \to \infty} |x_n - y_n| = 0$ then $(y_n)$ is also Cauchy. If it is also known that $\lim_{n \to \infty} x_n = a$ then $\lim_{n \to \infty} y_n = a$.
\end{proposition}

\begin{proof}
    Observe that
    \begin{align}
        |y_n - y_m| = |x_n - y_n + x_m - y_m + x_n - x_m|
    \end{align}
    A three fold application of the triangle inequality on the right hand side basically gives the result immediately. For the last part, use the triangle inequality on the right hand side of
    $$|y_n - a| = |x_n - y_n + x_n - a|$$ 
    and take the limit.
\end{proof}




% https://q.uiver.app/#q=WzAsNixbMCwyLCJcXG1hdGhjYWx7T30vXFxtYXRoZnJha3twfSJdLFsxLDIsIlxcbWF0aGNhbHtPfS9cXG1hdGhmcmFre3B9XjIiXSxbMiwyLCJcXG1hdGhjYWx7T30vXFxtYXRoZnJha3twfV4zIl0sWzMsMiwiXFxkb3RzIl0sWzQsMl0sWzEsMCwiXFxtYXRoY2FsIE8iXSxbMiwxLCJcXGxhbWJkYV8yIiwyXSxbMSwwLCJcXGxhbWJkYV8xIiwyXSxbMywyLCJcXGxhbWJkYV80IiwyXSxbNSwzXSxbNSwyXSxbNSwxXSxbNSwwXV0=
\[\begin{tikzcd}
	& {\mathcal O} \\
	\\
	{\mathcal{O}/\mathfrak{p}} & {\mathcal{O}/\mathfrak{p}^2} & {\mathcal{O}/\mathfrak{p}^3} & \dots & {}
	\arrow["{\lambda_2}"', from=3-3, to=3-2]
	\arrow["{\lambda_1}"', from=3-2, to=3-1]
	\arrow["{\lambda_4}"', from=3-4, to=3-3]
	\arrow[from=1-2, to=3-4]
	\arrow[from=1-2, to=3-3]
	\arrow[from=1-2, to=3-2]
	\arrow[from=1-2, to=3-1]
\end{tikzcd}\]

%TODO
\begin{theorem} \label{thm: Valuation ring in local field is compact}
    The valuation ring of a local field $K$ is compact.
\end{theorem}
\begin{proof}
    The valuation ring can be thought of as the closed unit ball around 0 with respect to the absolute value on $K$. Hence it is closed and is homeomorphic to $\varprojlim \mcal O / \mfrak p^n$ which is then of course also closed. This inverse limit is contained in $\prod_{n = 1}^\infty \mcal O / \mfrak p^n$, which is compact by Tychonoff's theorem since all the $\mcal O / \mfrak p^n$ are finite by (\ref{lem: Valuation ring mod power of prime is finite in local field}), and hence they are compact. It follows that $\mcal O$ is compact.
\end{proof}
\begin{remark}\label{rem: Compactness is equivalent to sequential compactness}
    Since the absolute value $K$ induces a metric on $K$, it means that compactness is equivalent to sequential compactness. Thus every sequence in $\mcal O$ has a convergent subsequence.
\end{remark}

% we write it in another way
In the real numbers we are used to that the function $u \mapsto \alpha^u$ is well-defined regardless of what $u$ and $\alpha$ is. For some fields this is not the case, and we will now see an example of this. 

\begin{proposition}
    Let $K$ be a local $\mfrak p$-adic number field and let $n$ be the smallest natural number so that we obtain an isomorphism $\mfrak p^n \cong U^{(n)}$ as in (???). Suppose $u,\alpha \in \mcal O$. Then the exponential function $\alpha^u = \exp(u \log \alpha)$ is well-defined whenever $u \in \mcal O$ and $\alpha \in U^{(n)}$.
\end{proposition}
\begin{proof}
    Suppose that $u \in \mcal O$ and $\alpha \in U^{(n)}$. This means that $\log \alpha \in \mfrak p^n$ and so $u \log \alpha \in \mfrak p^n$ because $\mfrak p^n$ is an ideal. Thus, it makes sense to apply $\exp$ on $u \log \alpha$.
\end{proof}

\begin{lemma}
    Suppose $\mfrak p$ is a prime of a local field $K$ and set $q = \# (\mcal O / \mfrak p^n)^*$. If $\alpha \in \mcal O_K$ and $\mfrak p \nmid \alpha$ then $\alpha^q \in U^{(n)}$. In particular, if $\epsilon$ is any unit of $\mcal O_K$ then $\epsilon^q \in U^{(n)}$.
\end{lemma}
\begin{proof}
    First of all, the number $q$ is a natural number by (\ref{lem: Valuation ring mod power of prime is finite in local field}). Take $\alpha$ in $\mcal O_K$ and suppose $\mfrak p \nmid \alpha$ for some prime $\mfrak p$ of $K$. This means that $\mfrak p$ does not occur in the prime factorization of $\alpha \mcal O_K$, which means that $\gcd(\alpha \mcal O_K, \mfrak p) = \mcal O_K$, hence also $\gcd(\alpha \mcal O_K, \mfrak p^n) = \mcal O_K$. But that means that $\alpha \beta + l = 1$ for some $l \in \mfrak p^n$ and $\beta \in \mcal O_K$, and so $\alpha$ is a unit in $\mcal O_K / \mfrak p^n$. But then $\overline{\alpha^q} = \overline 1$ in $\mcal O_K / \mfrak p^n$. Hence, $\alpha^q \in U^{(n)}$. Suppose now that $\epsilon$ is a unit in $\mcal O_K$. Then $\epsilon \mcal O_K = \mcal O_K$, meaning that $\mfrak p \nmid \epsilon$. By what we just proved, it now follows that $\epsilon^q \in U^{(n)}$. 
\end{proof}



\section{Logarithms and Exponentials}
In this section, we describe how to define logarithmic and exponential functions on a p-adic field. 


\begin{lemma}(Legendre's formula)
    Suppose we have $k \in \mbb N$. Then
    $$v_p(k!) = \sum_{i = 1}^{\infty} \left\lfloor \frac{k}{p^i} \right \rfloor$$
\end{lemma}

\begin{proof}
    First of all, there are only finitely many terms in the sum since $\left\lfloor \frac{k}{p^i} \right \rfloor$ is eventually zero when $i$ is large enough so it converges. For natural numbers $q$ and $n$ we define the function 
    $$f_q(n) = \begin{cases}
        1 & \text{if } q \mid n \\
        0 & \text{otherwise}
    \end{cases}$$
    We then have for any $m \in \mbb N$ that
    $$v_p(m) = \sum_{i = 1}^{\infty} f_{p^i}(m)$$
    Thus,
    % write the above but in reverse order 
    \begin{align*}
        v_p(k!) &= \sum_{j = 1}^k v_p(j) \\
        &= \sum_{j = 1}^k \sum_{i = 1}^{\infty} f_{p^i}(j) \\
        &= \sum_{i = 1}^{\infty} \sum_{j = 1}^k f_{p^i}(j)
    \end{align*}


    But clearly, $\sum_{j = 1}^k f_{p^i}(j) = \left\lfloor \frac{k}{p^i} \right \rfloor$, so we get the result. 
\end{proof}

Using this result we can prove the following

\begin{lemma}
    Assume that $k \in \mbb Z$ and suppose that $k = \sum_{i = 0}^{r} a_i p^i$ is the $p$-adic expansion of $k$. Then we have that 
    $$v_p(k!) = \frac{k - s_k}{p - 1}$$
    where $s_k = \sum_{i = 0}^{r} a_i$.
\end{lemma}
\begin{proof}
    Suppose $i \in \mbb N$. We then get $\sum_{j = 0}^{i-1}a_j p^{j-i} < 1$, so
    \begin{align*}
        \left\lfloor \frac{k}{p^i} \right \rfloor &= \left \lfloor \sum_{j = 0}^{r} a_j p^{j-i} \right \rfloor \\ 
        &= \left \lfloor \sum_{j = 0}^{i-1}a_j p^{j-i} + \sum_{j=i}^{r} a_j p^{j-i} \right \rfloor \\
        &=  \left \lfloor \sum_{j=i}^{r} a_j p^{j-i} \right \rfloor \\
        &= \sum_{j=i}^{r} a_j p^{j-i}
    \end{align*}
    So when $i > r$, we have $\left\lfloor \frac{k}{p^i} \right \rfloor = 0$.
    
    
    \begin{align*}
        v_p(k!) &= \sum_{i = 1}^{r} \left\lfloor \frac{k}{p^i} \right \rfloor \\
        &= \sum_{i = 1}^{r} \sum_{j=i}^{r} a_j p^{j-i} \\ 
        &= \sum_{j=1}^{r} \sum_{i = j}^{r} a_j p^{j-i} \\
        &= \sum_{j=1}^{r} a_j \sum_{i = 1}^{j} p^{j-i}
    \end{align*}


\end{proof}



\begin{proposition}
    Let $K$ be a $\mfrak{p}$-adic number field. There is a uniquely determined group homomorphism taking multiplication to addition,
    $$\log : K^* \to K$$
    so that $\log p = 0$ and for $(1 + x) \in U^{(1)}$ we have
    $$\log (1 + x) = x - \frac{x^2}{2} + \frac{x^3}{3} - ...$$    
\end{proposition}
\begin{proof}
    We first show that $\log$ actually converges on principal units. So suppose $(1 + x) \in U^(1)$. Then $x \in \mfrak p$ and so $v_p(x) > 0$, which means that $c = p^{v_p(x)} > 0$. Thus we can apply the usual logarithm and get $v_p(x) = \frac{\ln c}{\ln p}$. If $k$ is any natural number, then we always have $p^{v_p(k)} \leq k$, since $p^{v_p(k)}$ divides $k$. Applying $\ln$ to both sides of this inequality is valid, as both sides are positive and from doing so we get 
    $$v_p(k) \ln p \leq \ln k$$
    and so,
    $$v_p(k) \leq \frac{\ln k}{\ln p}$$
    Now for any $k \in \mbb N$ we get
    \begin{align*}
        v_p(\frac{x^k}{k}) &= v_p(x^k) - v_p(k)  \\
        &= kv_p(x) - v_p(k) \\
        &\geq k \frac{\ln c}{\ln p} - \frac{\ln k}{\ln p} \\
        &= \frac{\ln c^k / k}{\ln p}
    \end{align*}
    Clearly, $\ln c^k / k \to \infty$ as $k \to \infty$. Hence, $v_p(\frac{x^k}{k}) \to \infty$ as $k \to \infty$. By (\ref{lem:SufficientConditionForConvergence}), this means that the sum $x - \frac{x^2}{2} + \frac{x^3}{3} - ...$ converges. UNIQUENESS MISSING
\end{proof}

\section{Formal power series}
We will briefly take a look at formal power series, as we will use them in the following section. Let $K$ be a field. A power series is an infinite sum of 
$$\sum_{n=0}^\infty a_n x^n$$
where $a_n \in K$ and $x$ should be thought of as simply a formal symbol. The set of all of these is a ring, called the ring of formal power series over $K$, and we denote it by $K[[x]]$. This ring contains no zero divisors, so we can consider its field of fractions, which we denote by $K((x))$. This field is called the field of formal Laurent series over $K$. 

This is a local ring with maximal ideal $(x)$. Hence all units in $K[[x]]$ are those with constant term different from 0. 


(TODO CONSTRUCT THIS RING USING COMPLETION)

This ring can actually be constructed used the tools we have already developed. The ring $K[x]$ is a PID, since $K$ is a field. Hence the ideals factors uniquely into prime ideals. Now, 
$$K[x] /(x) \cong K$$
and so $(x)$ is in particular a prime. 


\section{Skolem's Method}

In particular, 







Since all the ideals of $\mcal O$ are powers of the maximal ideal, and the maximal ideal is generated by a single element, so every ideal is finitely generated. As $\mcal O$ is an integral domain, this means that it is in fact a Dedekind domain. 

\begin{lemma}
    Suppose that $K$ is a number field and that $v$ is a discrete valuation on $K$. Denote by $\mcal O_v$ the valuation ring of $v$. Then $\mcal O_K \subset \mcal O_v$. In particular, the valuation ring of the completion of $K$ with respect to $v$ contains $\mcal O$.
\end{lemma}

\begin{proof}
    Let $\overline{R}^S$ denote the integral closure of $R$ in $S$. We know that $\mcal O_K$ is the integral closure of $\mbb Z$ inside of $K$ and also that the ring of fractions of $O_K$ is $K$. Furthermore, $\mbb Z \subseteq \mcal O_v$ and $\mcal O_v$ is integrally closed in its field of fractions, $F$, since it is a Dedekin domain. We have something like 

    $$O_K = \overline {\mbb{Z}}^K \subseteq \overline {\mcal O_v}^K \subseteq \overline {\mcal O_v}^F = \mcal O_v$$ 
    
\end{proof}



We know from ? that there is an $n$ so that $\exp : \mfrak p^n \to U^{(n)}$ and $\log : U^{(n)} \to \mfrak p^n$ are inverses of each other. By the above lemma, we know that the ring $\kappa_n = \mcal{O} / \mfrak p^n$ is finite, so also $\kappa_n^*$ is finite. So if $\alpha \in \mcal O$ is a unit then, since ring maps preserve units, $\bar \alpha \in \kappa_n$ is certainly also a unit. But then $\bar \alpha$ has finite order, since $\kappa_n^*$ is finite. In other words, we can find $k \in \mbb N$ so that $\bar \alpha^k = \bar 1$. But this is really just another way of saying that $\alpha^k$ is in $U^{(n)}$.




\begin{theorem}
    Let $K$ be a number field over $\mbb Q$ of degree $n$ and fix some $c \in \mbb Q$. Suppose $F$ is an irreducible, decomposable and nonfull form of degree $m < n$. If the equation 
    $$F(x_1, ..., x_m) = c$$
    has infinitely many solutions (OVER WHAT SET?) then there exists a local manifold in which there is an analytic curve that parametrizes an infinite set of solutions over the $\mfrak{p}$-adic numbers.   
\end{theorem}


Let $K$ be a number field of degree $n$ and let $\mu_1, ..., \mu_m$ be a set of $\mbb{Q}$-linearly independent elements of $K$. These generate a nonfull module, $M$. Starting from these generators we can build a basis for $K$ over $\mbb{Q}$. We will call this basis $\mu_1, ..., \mu_m, \mu_{m+1}, ..., \mu_n$. Considering the module, call it $\bar M$, generated by these will give us a full module and $M \subset \bar M$. We wish to find solutions to the equation $N(\alpha) = a$, where $\alpha$ is in $M$. This is really the same as allowing $\alpha$ to be in $\bar M$, so finding solutions of the form
$$\alpha = \sum_{i=1}^n x_i \mu_i$$
where the $x_i$ are in $\mbb{Z}$, with the added restriction that 
$$x_{m+1} = ... = x_n = 0$$
Let now $\mu_1^*, ..., \mu_m^*$ be the dual basis of $\mu_1, ..., \mu_m$. The computation 
$$\tr{\mu_i^* \alpha} = \tr {\sum_{j=1}^n \mu_i^* x_j \mu_j} = \sum_{j=1}^n x_j \tr{\mu_i^* \mu_j} = x_i$$
shows that we can recover the $x_i$ variables in $\alpha$ by taking the trace of $\mu_i^*\alpha$. We can use this to reformulate the above restriction to
$$\tr{\mu_m^* \alpha} = ... = \tr{\mu_n^* \alpha} = 0$$
Since $\alpha$ has norm $a$, we can write
\begin{equation}\label{eq:ExpressionForAlpha}
    \alpha = \gamma_k \epsilon_1^{u_1}...\epsilon_r^{u_r}
\end{equation}
Where $u_i \in \mbb{Z}$, and $\gamma$ is taken from a finite set of elements with norm $a$, and the $\epsilon_i$ is a system of independent units of $K$. Let $\sigma_1, ..., \sigma_n$ be the embeddings of $K$ into $\mbb{C}$. The restriction on the last $n-m$ variables can be written as 
$$\tr{\mu_i^* \alpha } = \sum_{j = 1}^n \sigma_j(\gamma \mu_i^* \epsilon_1^{u_1}...\epsilon_n^{u_r}) = \sum_{i = 1}^n \sigma_j(\gamma_k \mu_i^* ) \sigma_j(\epsilon_1)^{u_1}...\sigma_j(\epsilon_n)^{u_r} = 0$$
for $i = m+1, ..., n$. If we can show that, no matter what $\gamma$ we choose among the $k$ possibilities, there are only finitely many possibilities for the $u_i$, the we would have established that there are only finitely many $\alpha \in M$ such that $N(\alpha) = a$. Right now, the $u_i$ live in $\mbb{Z}$. Take $\mfrak p$ a prime divisor of the field $K$ and let us see how we can extend the values of the $u_i$ to the valuation ring $\mcal O \subseteq K_\mfrak{p}$.

The $\epsilon_i$ are all units of the coefficient ring $\mfrak D$ of $M$. Hence, these are in fact units of $O_K$. By (???) there is natural number $q$ so that $\epsilon_i^q$ is in $U^{(n)}$ for all $i$. 


Each of the $u_i$ in (\ref{eq:ExpressionForAlpha}) can be written on the form $u_i = \rho_i + qv_i$, with $0 \leq \rho_i < q$ and $v_i \in \mbb{Z}$. This allows us to write 
$$\prod_{i=1}^r \epsilon_i^{u_i} = \prod_{i=1}^r \epsilon_i^{\rho_i + qv_i} = \prod_{i=1}^r \epsilon_i^{\rho_i} \prod_{i=1}^r \epsilon_i^{qv_i}$$ 

Setting $\delta = \prod_{i=1}^r \epsilon_i^{\rho_i}$, $\gamma' = \delta \gamma_k$ we can write $\alpha = \gamma'_k \epsilon_1^{qv_1}...\epsilon_r^{qv_r}$. Let now $\Gamma'$ be the set of all possible $\gamma'$. The number of possible $\delta$ is $q^r$ so $\# \Gamma' = (\# \Gamma) q^r$. Of course, all elements in $\Gamma'$ still have norm $a$. Hence taking $\phi_i = \epsilon_i^q$ we can write any element of norm $a$ as 
$$\alpha = \gamma \phi_1^{v_1}...\phi_r^{v_r}$$
where $\gamma \in \Gamma'$ with the added benefit that we can now allow the $v_i$ to take on any value in $\mcal O$.
This gives us the following lemma

\begin{lemma}
    There exists a finite set $\Gamma' \subseteq M_a$ and a system of independent units $\phi_1, ..., \phi_r \in U^{(n)}$, so that for any $\alpha \in M_a$ we can write $$\alpha = \gamma \phi_1^{v_1}...\phi_r^{v_r},$$ where $\gamma \in \Gamma'$.
\end{lemma}


and so we can replace $\Gamma$ with $\Gamma'$.


Now the set of all possible $\gamma'$ is equa


Now we can allow the $v_i$ to take on any value in $\mcal O$.



However we can fix this using (??), and we will from now on just assume that it is. Define now

\begin{align*}
    L_j(u_1, ..., u_r) &= \sum_{k = 1}^{r} u_k \log \sigma_j(\epsilon_k) \\
    A_{ij} &= \sigma_j(\gamma \mu_i^*) \\ 
\end{align*}

We then have 
$$\exp L_j (u_1, ..., u_r) = \prod_{k=1}^r \sigma_j(\epsilon_k)^{u_k}$$

For $i = m+1, ..., n$ we now define
$$F_i(u_1, ..., u_r) = \sum_{j = 1}^n A_{ij} \exp L_j(u_1, ..., u_r) $$
And so we can rewrite our original equations as
(AVOID TALKING ABOUT MANIFOLDS HERE BECAUSE WE DONT KNOW IF THE CONSTANT TERMS OF THE $F_i$ ARE ZERO).
$$F_i(u_1, ..., u_r) = 0$$
for $i = m+1, ..., n$. These power series, $F_i$, converge in any $\epsilon$-neighborhood around the origin as long as $\epsilon \leq 1$ since in that case the $u_i$ belong to the valuation ring $\mcal O \subseteq K_\mfrak p$. Hence the set of all solutions to this system is a local manifold and all the $u_i$ are in $\mcal O$. Assume that we have infinitely many solutions to this system. Then we can construct an infinite sequence of distinct elements, $U_s = (u_{1s}, ..., u_{rs})$, for $s \in \mbb N$.
As $\mcal O$ is compact, so is the product $\mcal O^r$, equipped with the product topology. But $\mcal O$ is a metric space so $\mcal O^r$ is metrizable, and therefore sequentially compact. This means that the sequence $U_s$ has a convergent subsequence, $U^*_s$, converging to a point, say $u^* = (u_1^*, ..., u_r^*) \in \mcal O^r$. As the $F_i$ are continuous, we know that $F_i(U^*_s)$ converges to $F_i(u^*)$. But the $F_i$ also converge to 0 since $F_i(U^*_s) = 0$ for all $s \in \mbb N$. By uniqueness of limits in metric spaces we therefore have $F_i(u^*) = 0$. Hence, $u^*$ belongs to the manifold defined by the $F_i$. Lastly, any neighborhood of $u^*$ contains infinitely many points of the manifold; Take any open $\epsilon$-ball, $B$ around $u^*$. Because $U^*_s$ converges to $u^*$, we know that there is an $N$ so that $U^*_s \in B$ for all $s > N$, all of which are distinct and belong to the manifold. Let us now write $u_i = u_i^* + v_i$, where $v_i \in \mcal O$. Plugging this into the $F_i$ we get

\begin{align*}
    F_i(u_1, ..., u_r) &= \sum_{j = 1}^n A_{ij} \exp L_j(u_1^* + v_1, ..., u_r^* + v_r) \\ 
    &= \sum_{j = 1}^n A_{ij} \exp L_j(u_1^*, ..., u_r^*) \exp L_j(v_1, ..., v_r)
\end{align*}
Setting $A_{ij}^* = A_{ij} \exp L_j(u_1^*, ..., u_r^*)$ and $G_i(v_1, ..., v_r) = \sum_{j = 1}^n A_{ij}^* L_j(v_1, ..., v_r)$, we therefore get
$$F_i(u_1, ..., u_r) = G_i(v_1, ..., v_r)$$
Viewing the $G_i$ as formal power series in the variables $u_1, ..., u_r$, we see that they all have constant term 0, since all the $L_j(v_1, ..., v_r)$ have constant term 0. Let $V$ be the local manifold defined by the $G_i$. Clearly, the point at the origin is a solution, and there are infinitely many solutions in any neighborhood of the origin. Therefore $V$ contains an analytic curve, by (??)


By the contrapositive of this, we now have a way to show that a norm equation has only finitely many solutions. 


(THIS SHOULD NOT BE HERE)

We have the equations

We have $n - r = 2s$

There is an $n-r \times n$ matrix $B$ with coefficients in $K$ with linearly independent rows, so that
\begin{align*}
    \sum_{j=1} A^*_{ij}\exp P_j(t) &= 0 \text{ (for } i = m+1, ..., n) \\
    \sum_{j=1}^n B_{ij}P_j(t) &= 0 \text{ (for } i = 1,  ..., n-r)
\end{align*}
The rows of $A^*_{ij}$ are also linearly independent. Let us explain why, one system at a time. For the first one, we know that the $\gamma \mu_i^*$ constitute a basis for $K$ over $\mbb{Q}$. Hence the discriminant of this basis is non-zero. In fact the discriminant of this basis equals $|\sigma_j(\gamma \mu_i^*)|^2$ (p. 18 in Numberfields). Therefore, the matrix $A_{ij}$ has full rank, $n-m$ and so also $A_{ij}^*$. Let us move on to the next system. Define $U = \Span \{ \omega_1, ..., \omega_r \}$. As each $P_i$ is in $U$, we can now define the linear map
\begin{align*}
    T : K^n &\to U \\
    T(a_1, ..., a_n) &= \sum_{i = 1}^n a_i P_i
\end{align*}
The dimension of $U$ is at most $r$. Hence the rank of $T$ is also at most $r$. By rank nullity, the nullity of $T$ is therefore larger than or equal to $n-r$. In other words, there are at least $n-r$ linearly independent elements in the kernel of $T$.


In total there are $N = (n - m) + (n - r)$ equations. So if $n - m \geq r$, then $N = (n - m) + (n - r) \geq r + (n - r) = n$. 








\begin{theorem}
    Suppose $f(x,y)$ is an irreducible form with integer coefficients, of degree $n \geq 3$ and with at least one complex root. Then there are only finitely many integer solutions to the equation $f(x,y) = c$, for some fixed $c \in \mbb{Z}$.
\end{theorem}
One might think this should not take too much effort to prove. After all, the theorem is relatively simple to parse.

\begin{proof}
    By assumption we can write 
    $$f(x,y) = \sum_{i = 0}^n a_i x^{i} y^{n-i}$$
    where the $a_i$ are in $\mbb Z$ and not all zero. We must have that $a_n \neq 0$. Otherwise $y$ would divide $f(x,y)$ which is impossible since $f$ is irreducible by assumption. Let $h(x) = f(x,1)$. We have that $h$ is a polynomial of degree $n$ with leading coefficient $a_n$. The leading term of $a_n^{n-1} h(x)$ is $a_n^nx^n = (a_n x)^n$, so $h$ can be regarded as a monic polynomial in the variable $t$ using the substitution $a_n x \mapsto t$. Hence we can, and will, without loss of generality, assume that $h$ is monic, i.e that $a_n = 1$. Furthermore, $h$ is irreducible over $\mbb Q$ since $f(x,y)$ is irreducible. Let now $K$ be the splitting field of $h$. Then $K$ is a Galois extension of $\mbb Q$, and it has finite degree, $n$, over the rational. Let now $\sigma_1, ..., \sigma_n$ be the $n$ embeddings of $K$ into $\mbb C$ and take a root, $\theta \in K$, of $h$. Such an element gives rise to a subfield, $F = \mbb Q(\theta) \subseteq K$.
    $$f(x,y) = N_{F/\mbb{Q}}(x + \theta y)$$
    So in this case we are working with the module $M$ generated by $1$ and $\theta$. 



    For any curve on $\omega_1(t), ..., \omega_r(t)$ on $V$ we know from lemma (\ref{lem: Two power series are equal}) that $P_k(t) = P_j(t)$ for two different indices $k$ and $j$. Consider then the local manifold, $W$, given by the equation
    $$\prod_{i \leq k < j \leq n}^r (P_k(t) - P_j(t)) = 0$$
    Hence, whenever we have a curve on $V$, that curve is also on $W$. By (???) this implies that $V \subseteq W$. We will now show that any neighborhood of the origin contains a point of $V$ which is not in $W$. This is of course a contradiction to $V \subseteq W$, so there must be only finitely many solutions. 
    
    
\end{proof}

\begin{lemma}\label{lem: Unit power series is transcendental}
    Suppose $K$ is a field and $f \in K[[t]]$, $f$ a unit. Then $f$ is transcendental over $K$. 
\end{lemma}
\begin{proof}
MISSING
\end{proof}



\begin{lemma} \label{lem: Two power series are equal}
    Let $K$ be a field of characteristic 0 and let $n,n_1,n_2 \in \mbb N$ so that $n_1 = n - 2$ and $n_2 \geq 2$ and suppose we have formal power series, $P_1(t), ..., P_n(t)$, with coefficients in $K$, and with zero constant term so that
    \begin{align*}
        \sum_{j = 1}^n a_{ij} \exp P_j &= 0, \quad i = 1, ..., n_1 \\
        \sum_{j = 1}^n b_{ij} P_j &= 0, \quad i = 1, ..., n_2,
    \end{align*}
    with the $a_{ij}$ and $b_{ij}$ in $K$ and where both groups of equations are linearly independent. Then there are two indices $k \neq l$ so that $P_k(t) = P_l(t)$.
\end{lemma}

\begin{proof}
    (FIX THIS PROOF)
    
    Let $V = \Span_K \{ \exp P_1,...,\exp P_n\}$ and consider the linear map $$T : K^n \to V$$ given by 
    $$T(a_1, ..., a_n) = \sum_{i=1}^n a_i \exp P_i$$
    By assumption we have $n_1 = n - 2$ linearly independent elements $v \in K^n$ so that $v \in \ker T$. Hence $\nullity (T) \geq n-2$. The map $T$ is clearly surjective. Combining this with rank-nullity we get $\rank (T) = \dim V \leq 2$. Thus, it has to be the case that two elements among $\{\exp P_1,...,\exp P_n \}$ span all of $V$. After potentially renumbering these elements we can safely say that these elements are $\exp{P_{n-1}}$ and $\exp{P_{n}}$. Thus, we can, in particular, for any $i = 1, ..., n-1$ find elements $a_i, b_i \in K$ so that 
    \begin{equation} \label{eq: Expression for exp P_i}
        \exp P_i = a_i \exp P_{n-1} + b_i \exp P_n
    \end{equation}
    where we trivially have that $a_{n-1} = 1$ and $b_{n-1} = 0$. 
    Suppose now that $a_i = 0$. Then $\exp P_i = b_i \exp P_n$. But both $P_i$ and $P_n$ have no constant term and that means that $\exp P_i$ and $\exp P_n$ have constant term 1. Therefore, $b_i = 1$ and so $P_i = P_n$, in which case we are done. We can therefore from now on assume that $a_i \neq 0$ for all $i = 1, ..., n_1$, and we are therefore allowed to divide by this element. Let us now define, for $i = 1, ... n-1$,
    \begin{equation}\label{eq: Expression for Q_i}
        Q_i = P_i - P_n,
    \end{equation}
    If we had $Q_i = 0$ we would again be done, so let us assume this never happens. As the power series $\exp P_i$ have non-zero constant term, they are units in $K[[t]]$. Of course, also the $Q_i$ have constant term 0, so also $\exp Q_i$ are units in $K[[t]]$. Thus, we can divide by these elements. Combining (\ref{eq: Expression for exp P_i}) and (\ref{eq: Expression for Q_i}) we have for $i = 1, ..., n-1$ that
    \begin{align*}
        \exp Q_i &= \exp P_i \exp (-P_n) \\
        &= (a_i \exp P_{n-1} + b_i \exp P_n) \exp (-P_n) \\
        &= a_i \exp (P_{n-1} - P_n) + b_i \\
        &= a_i \exp Q_{n-1} + b_i
    \end{align*}
    Differentiating both sides of this equation gives us
    $$Q_i' \exp Q_i = a_i Q_{n-1}' \exp Q_{n-1}$$
    Solving for $Q_i'$
    \begin{align}\label{eq: Expression for Q_i prime}
        Q_i' &= \frac{(a_i Q_{n-1}' \exp Q_{n-1})}{\exp Q_i} \notag \\
        &= \frac{a_i Q_{n-1}' \exp Q_{n-1}}{a_i \exp Q_{n-1} + b_i} \\
        &= \frac{Q_{n-1}' \exp Q_{n-1}}{\exp Q_{n-1} + c_i} \notag
    \end{align}
    where $c_i = a_i^{-1}b_i$. Let us now deal with the next group of equations. Let $U = \Span \{P_1, ..., P_n \}$ and define the linear map $F : K^n \to U$ as $F(a_1, ..., a_n) = \sum_{i=1}^n a_i P_i$. By assumption, the nullity of this map is at least 2. Hence we can find two linearly independent elements $\alpha, \beta \in \ker F$. We can therefore find (EXPLAIN WHY) a non-trivial linear combination,
    $$\sum_{i=1}^{n-1} d_i Q_i = 0$$
    where the $d_i$ are in $K$. Differentiating this sum and using (\ref{eq: Expression for Q_i prime}) we obtain
    \begin{align*}
        \sum_{i=1}^{n-1} d_i Q_i' &= Q_{n-1}' \exp Q_{n-1} \sum_{i=1}^{n-1} \frac{d_i}{\exp Q_{n-1} + c_i} = 0
    \end{align*}
    It must be the case that $Q_{n-1}' \neq 0$. Otherwise, we would have $Q_{n-1} \in K$, and since the $P_i$ have zero constant term, we would then have $Q_{n-1} = 0$, which is a contradiction. Also, $\exp Q_{n-1} \neq 0$ so we must have 
    
    \begin{equation}\label{eq: Zero equation}
        \sum_{i=1}^{n-1} \frac{d_i}{\exp Q_{n-1} + c_i} = 0
    \end{equation}
    Next let us show that this implies that the rational function 
    $$f(z) = \sum_{i=1}^{n-1}\frac{d_i}{c_i + z}$$
    is the zero function on $K$. As this is a rational function we can find polynomials $\phi, \psi \in K[z]$ so that $f(z) = \frac{\phi(z)}{\psi(z)}$. Let us for contradiction suppose that $f$ is not identically zero. Then $\phi$ cannot be identically 0. But then because of (\ref{eq: Zero equation}) we now have (HOW ARE WE SURE THAT DENOMINATOR NOT ZERO)
    $$0 = f(\exp Q_{n-1}) = \frac{\phi(\exp Q_{n-1})}{\psi(\exp Q_{n-1})},$$
    meaning that $\phi(\exp Q_{n-1}) = 0$. But then $\phi$ cannot be a constant, since if it where it would have to be equal to 0. Thus, $\phi$ must have degree strictly larger than 0. But $\exp Q_{n-1} \in K((t)) \setminus K$, so $\exp Q_{n-1}$ is apparently algebraic over over $K$. But this is not possible (SHOW WHY). Hence $f$ is identically 0. We then have $c_k = c_j$, where $k \neq j$ (WHY). Now from (\ref{eq: Expression for exp P_i}) we get 
    \begin{align*}
        a_k^{-1} \exp P_k &= \exp P_{n-1} + c_k \exp P_n \\
        a_j^{-1} \exp P_j &= \exp P_{n-1} + c_j \exp P_n
    \end{align*}
    But since $c_k = c_j$ we conclude that
    $$\exp P_k = a_k a_j^{-1} \exp P_j$$ 
    But as we previously mentioned, both $\exp P_k$ and $\exp P_j$ have constant term 1 because $P_k$ and $P_j$ have zero constant term. Thus $a_k a_j^{-1} = 1$ and so $P_k = P_j$ as $\exp$ is injective (IS THIS REALLY TRUE).

\end{proof}


First show that all of these conditions are indeed satisfied. 


% We mention the importance of the degree 3 assumption 

It is clear that forms of degree 1 have infinitely many solutions. What about the forms of degree 2?

Consider the form $F(x,y) = x^2 - 2y^2$ and the equation 
$$F(x, y) = 7$$
Suppose we already have a solution, $(x,y)$. Then also $(3x + 4y, 2x + 3y)$ is a solution. Thus a single solution can inductively produce infinitely many distinct. But $(3,1)$ is indeed a solution, and therefore $F(x, y) = 7$ has infinitely many solutions. This highlights the importance of the assumption that the degree of $F$ must be greater than or equal to 3.   


One might ask if the assumption that $F$ has a complex root is really necessary and perhaps more interestingly, if all the solutions can be found. A big limiting factor about the statement we have proved is that we never know when we have found all solutions. This is of course expected, since this is just the nature of contradiction proofs - there are not constructive. But both of these questions can actually be answered if we look to \cite{baker}, \textbf{Theorem 4.1} on page 38. Here we see that we can simply drop the assumption that there has to be a complex root and it is even possible to find all solutions.

\bibliographystyle{plainnat} % or another style like plain, alpha, etc.
\bibliography{references}
\end{document}
